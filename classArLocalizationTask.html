<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>ARNL: ArLocalizationTask Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>ArLocalizationTask Class Reference</h1><!-- doxytag: class="ArLocalizationTask" --><!-- doxytag: inherits="ArBaseLocalizationTask" --><code>#include &lt;ArLocalizationTask.h&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for ArLocalizationTask:</div>
<div class="dynsection">

<p><center><img src="classArLocalizationTask.png" usemap="#ArLocalizationTask_map" border="0" alt=""></center>
<map name="ArLocalizationTask_map">
<area doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference//classArBaseLocalizationTask.html" alt="ArBaseLocalizationTask" shape="rect" coords="0,0,147,24">
</map>
</div>

<p>
<a href="classArLocalizationTask-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Task that performs continuous localization of the robot with a laser range sensor in a seperate asynchronous thread. 
<p>
The localization software can be used to localize a robot in a given map using the laser rangefinder. The system is meant to be used along with ARIA.<p>
The localization system uses Monte Carlo Localization Algorithm to accurately localize the robot in the given map using its laser data. The localization task is meant to be initialized and run in a separate thread in ARIA. It can be used with a real robot or with a simulator.<p>
In order to get the localization task thread going, the <a class="el" href="classArLocalizationTask.html" title="Task that performs continuous localization of the robot with a laser range sensor...">ArLocalizationTask</a> class needs an instantiated ArRobot, ArRangeDevice and a map file of the robot's environment. The output of the localization will be reflected directly in the pose of the ArRobot. (unless explicitly set to not do so)<p>
The basic MCL localization system has also been augmented with a Kalman filter which will fuse the wheel encoder data with the reflections from known laser reflecting landmarks (these are constructed with special reflective plastic manufactured by laser) in the map. To use this functionality you will need a map with reflector positions in it, and will have to configure the laser to return reflectance information. ARNL will incrementally incorporate the reflections from the landmarks using a EKF formulation. See the main ARNL overview page for details on this extra feature, including how to enable reflectance data in the laser.<p>
<a class="el" href="classArLocalizationTask.html" title="Task that performs continuous localization of the robot with a laser range sensor...">ArLocalizationTask</a> automatically creates and runs its background thread when constructed. <dl compact><dt><b>Examples: </b></dt><dd>

<p>
<a class="el" href="arnlJustLocalization_8cpp-example.html#_a1">arnlJustLocalization.cpp</a>, and <a class="el" href="arnlServer_8cpp-example.html#_a1">arnlServer.cpp</a>.</dl><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>ArNetworking callback methods</h2></td></tr>
<tr><td colspan="2">(used by server classes in ArServerClasses.cpp) <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#106eada91144e31e6c9999f2130bb98f">drawRangePoints</a> (ArServerClient *client, ArNetPacket *packet)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Draws range data used for localization.  <a href="#106eada91144e31e6c9999f2130bb98f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#5f3b4db124a95cadde4c3847c83dfb76">drawReflectorRays</a> (ArServerClient *client, ArNetPacket *packet)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Draw rays from the robot to the reflector.  <a href="#5f3b4db124a95cadde4c3847c83dfb76"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#86cf6d49537ad1c2361023731a601915">drawSamplePoses</a> (ArServerClient *client, ArNetPacket *packet)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Draws debugging objects if filled.  <a href="#86cf6d49537ad1c2361023731a601915"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#c0a1783f962d3f6749e9eb008248f605">drawSampleBounds</a> (ArServerClient *client, ArNetPacket *packet)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Draws the sample bounds.  <a href="#c0a1783f962d3f6749e9eb008248f605"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#d1d5dfeaf12d5fcccbf71cb2c862e020">drawKalmanVariance</a> (ArServerClient *client, ArNetPacket *packet)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Draws the sample bounds.  <a href="#d1d5dfeaf12d5fcccbf71cb2c862e020"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#3128b8138e5a4526d2711fa005b5baed">drawMCLVariance</a> (ArServerClient *client, ArNetPacket *packet)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Draws the sample bounds.  <a href="#3128b8138e5a4526d2711fa005b5baed"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#04ddffc1a65b12224a7520401d57cfb1">getPoseInterpPosition</a> (ArTime timeStamp, ArPose *position)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the position the robot was at at the given timestamp.  <a href="#04ddffc1a65b12224a7520401d57cfb1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="78e68e0811350c2bc1d4c0626b33e5af"></a><!-- doxytag: member="ArLocalizationTask::setMultiRobotCallback" ref="78e68e0811350c2bc1d4c0626b33e5af" args="(ArRetFunctor&lt; std::list&lt; ArMultiRobotPoseAndRadius &gt; &gt; *func)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#78e68e0811350c2bc1d4c0626b33e5af">setMultiRobotCallback</a> (ArRetFunctor&lt; std::list&lt; ArMultiRobotPoseAndRadius &gt; &gt; *func)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the callback function for localization to know about other robots. <br></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#88c08118381e60bcecf232915dfc9aba">ArLocalizationTask</a> (ArRobot *robot, ArRangeDevice *laser, char *mapName)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Base constructor with all the necessary inputs.  <a href="#88c08118381e60bcecf232915dfc9aba"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a18b10d2a979b8efdb81676bf364b25b">ArLocalizationTask</a> (ArRobot *robot, ArRangeDevice *laser, ArMapInterface *ariaMap, bool noReflectors=false)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Base constructor with all the necessary inputs.  <a href="#a18b10d2a979b8efdb81676bf364b25b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#177bf98169a54c71c5cf3df1cd5d78c6">~ArLocalizationTask</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Base destructor.  <a href="#177bf98169a54c71c5cf3df1cd5d78c6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a8aae87142d4783038311287876acc56">localizeRobotInMapInit</a> (ArPose given, int numSamples, double stdX, double stdY, double stdT, double thresFactor, bool warn=true, bool setInitializedToFalse=true, bool rayTrace=true)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Localization function mainly for initialization of robot at given pose.  <a href="#a8aae87142d4783038311287876acc56"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#9eda6f04ec9d1e6ef9c78ab4ead096d9">localizeRobotInMapMoved</a> (int numSamples, double distFactor, double angFactor, double thresFactor)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function used to do the localization after motion (normally called automatically by the background task).  <a href="#9eda6f04ec9d1e6ef9c78ab4ead096d9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#5f03ae43cbb2d0ca0f0c9d4277858fa1">localizeRobotAtHomeBlocking</a> (double distSpread, double angleSpread, double probThreshold)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Try initial localization at each home point at the map, and set the robot pose to the point with best score, using given parameter values instead of values previously configured.  <a href="#5f03ae43cbb2d0ca0f0c9d4277858fa1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#84009836cb0a32913eb516fdce18b365">localizeRobotAtHomeBlocking</a> (double spreadX, double spreadY, double angleSpread, double probThreshold)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">instead of values previously configured  <a href="#84009836cb0a32913eb516fdce18b365"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6b6184e1ad5ee449c1de72f0d689bb59"></a><!-- doxytag: member="ArLocalizationTask::localizeRobotAtHomeBlocking" ref="6b6184e1ad5ee449c1de72f0d689bb59" args="(double distSpread, double angleSpread)" -->
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#6b6184e1ad5ee449c1de72f0d689bb59">localizeRobotAtHomeBlocking</a> (double distSpread, double angleSpread)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The common function call from above. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#fe38e3fc30d46cc2ab2c348366ccdf6b">localizeRobotAtHomeBlocking</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Try initial localization at each home point at the map, \ and set the robot pose to the point with best score.  <a href="#fe38e3fc30d46cc2ab2c348366ccdf6b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#35969f66db214d2fa1f606dbde01a407">localizeRobotAtHomeNonBlocking</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Request that the task later localize the robot at a map home \ position, then return immediately.  <a href="#35969f66db214d2fa1f606dbde01a407"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual ArPose&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#f886762ca9cbbf527b81d6601e9c2123">getRobotHome</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the pose that robot was localized to.  <a href="#f886762ca9cbbf527b81d6601e9c2123"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#7cee2cf3acdba0e9914a5169dcd1cb57">setForceUpdateParams</a> (int numSamples, double xStd, double yStd, double tStd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the force update parameters.  <a href="#7cee2cf3acdba0e9914a5169dcd1cb57"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#e1922fd8a9b0cbc054b632c1489a793f">forceUpdatePose</a> (ArPose forcePose, bool rayTrace=true)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Force an update in thread instead of waiting for distance-angle trigger.  <a href="#e1922fd8a9b0cbc054b632c1489a793f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#7a979b768479d09cba163b5eaa6dd7c0">addFailedLocalizationCB</a> (ArFunctor1&lt; int &gt; *functor)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds a callback which will be called when loca fails.  <a href="#7a979b768479d09cba163b5eaa6dd7c0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#5b8d952240e1a9937579a61e675c1701">remFailedLocalizationCB</a> (ArFunctor1&lt; int &gt; *functor)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes a callback.  <a href="#5b8d952240e1a9937579a61e675c1701"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="fe44ab42107c4d00462f9c27f2cf8d0a"></a><!-- doxytag: member="ArLocalizationTask::setGridResolution" ref="fe44ab42107c4d00462f9c27f2cf8d0a" args="(double res, ArMapInterface *ariaMap)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#fe44ab42107c4d00462f9c27f2cf8d0a">setGridResolution</a> (double res, ArMapInterface *ariaMap)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the occupancy grid with the new map. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c8329d057c8676dfb356ebd09bfcca2e"></a><!-- doxytag: member="ArLocalizationTask::setFailedCallBack" ref="c8329d057c8676dfb356ebd09bfcca2e" args="(ArFunctor1&lt; int &gt; *fcb)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#c8329d057c8676dfb356ebd09bfcca2e">setFailedCallBack</a> (ArFunctor1&lt; int &gt; *fcb)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets tracking failed Callback. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="171a561a0b7a31e411bec51abe0ad895"></a><!-- doxytag: member="ArLocalizationTask::getState" ref="171a561a0b7a31e411bec51abe0ad895" args="(void)" -->
virtual <a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference//classArBaseLocalizationTask.html#c7e65bb9139f64c603a01017dcf475f9">LocalizationState</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#171a561a0b7a31e411bec51abe0ad895">getState</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the state of localization. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0ee3ee6fdbf0d9c8a42a59e985da2368"></a><!-- doxytag: member="ArLocalizationTask::getIdleFlag" ref="0ee3ee6fdbf0d9c8a42a59e985da2368" args="(void)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#0ee3ee6fdbf0d9c8a42a59e985da2368">getIdleFlag</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the idle flag. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4431a755412297c1c6c306474cf62a24"></a><!-- doxytag: member="ArLocalizationTask::getReloadingMapFlag" ref="4431a755412297c1c6c306474cf62a24" args="(void)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#4431a755412297c1c6c306474cf62a24">getReloadingMapFlag</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the map reloading flag. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ArMapInterface *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#3972cd1aa1ba98d5d586e59604af24c9">readMapFromFile</a> (char *mapName)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read the Map data from a map file.  <a href="#3972cd1aa1ba98d5d586e59604af24c9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ArMapInterface *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#735b8c1fc2ad55e6974bdc490f32ba2e">readAriaMap</a> (ArMapInterface *ariaMap)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read the Map data from ArMap.  <a href="#735b8c1fc2ad55e6974bdc490f32ba2e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#cdf46fbbe9abdad5ccb41a9ba4818932">loadParamFile</a> (const char *file)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load parameters from the given filename into ArConfig.  <a href="#cdf46fbbe9abdad5ccb41a9ba4818932"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#390eb249578faa44f1366d103ee36dba">saveParams</a> (char *filename)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Saves all parameter values from ArConfig to the given file.  <a href="#390eb249578faa44f1366d103ee36dba"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Modifiers for configuration values.</div></td></tr>
<tr><td colspan="2"><div class="groupText">Normally these values are automatically set via ArConfig (e.g.<p>
by loading them from a file or other source) in the "Localization" section, and these methods would only be used internally by ARNL. However, they can be used if you are not using ArConfig or wish to override a setting. <br><br></div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d02cf928e04e7f6d31ee4d47a1ee8c09"></a><!-- doxytag: member="ArLocalizationTask::setTriggerDelR" ref="d02cf928e04e7f6d31ee4d47a1ee8c09" args="(double tr)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#d02cf928e04e7f6d31ee4d47a1ee8c09">setTriggerDelR</a> (double tr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the motion trigger value for distance. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c6a614dce98cefa906f5a07dd4e76433"></a><!-- doxytag: member="ArLocalizationTask::setTriggerDelT" ref="c6a614dce98cefa906f5a07dd4e76433" args="(double tt)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#c6a614dce98cefa906f5a07dd4e76433">setTriggerDelT</a> (double tt)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the motion trigger value for angle. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d945c0a8f9442b20522148a4405cd320"></a><!-- doxytag: member="ArLocalizationTask::setTriggerTimeFlag" ref="d945c0a8f9442b20522148a4405cd320" args="(bool tt)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#d945c0a8f9442b20522148a4405cd320">setTriggerTimeFlag</a> (bool tt)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the flag to trigger on idle. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5017d6d215888dc2f27607496ddbf969"></a><!-- doxytag: member="ArLocalizationTask::setTriggerTime" ref="5017d6d215888dc2f27607496ddbf969" args="(double tt)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#5017d6d215888dc2f27607496ddbf969">setTriggerTime</a> (double tt)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the idle trigger time in millisecs. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a17fac873a420069f3d1f59b1d627785"></a><!-- doxytag: member="ArLocalizationTask::setTriggerTimeX" ref="a17fac873a420069f3d1f59b1d627785" args="(double tt)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a17fac873a420069f3d1f59b1d627785">setTriggerTimeX</a> (double tt)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the X range when localization triggers due to idle time. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b427c60e919299180b77de2517fc02c0"></a><!-- doxytag: member="ArLocalizationTask::setTriggerTimeY" ref="b427c60e919299180b77de2517fc02c0" args="(double tt)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#b427c60e919299180b77de2517fc02c0">setTriggerTimeY</a> (double tt)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the Y range when localization triggers due to idle time. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d3492918b16c98212bac5eeb4f3a421d"></a><!-- doxytag: member="ArLocalizationTask::setTriggerTimeTh" ref="d3492918b16c98212bac5eeb4f3a421d" args="(double tt)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#d3492918b16c98212bac5eeb4f3a421d">setTriggerTimeTh</a> (double tt)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the Theta range when localization triggers due to idle time. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="272087bebedd5c2376156cd3b6918d71"></a><!-- doxytag: member="ArLocalizationTask::setNumSamples" ref="272087bebedd5c2376156cd3b6918d71" args="(int n)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#272087bebedd5c2376156cd3b6918d71">setNumSamples</a> (int n)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the number of samples to use in the MCL. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b5a14b97615406d70a733caec44ec815"></a><!-- doxytag: member="ArLocalizationTask::setNumSamplesAtInit" ref="b5a14b97615406d70a733caec44ec815" args="(int n)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#b5a14b97615406d70a733caec44ec815">setNumSamplesAtInit</a> (int n)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the number of samples to use during initialization. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4961b0b7ce8b93e51f640473a6c5b0de"></a><!-- doxytag: member="ArLocalizationTask::setRayTraceAtInit" ref="4961b0b7ce8b93e51f640473a6c5b0de" args="(bool f)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#4961b0b7ce8b93e51f640473a6c5b0de">setRayTraceAtInit</a> (bool f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the flag which decides on ray tracing for localize at init. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="88fee6071ca753a7a564f3338df6e45d"></a><!-- doxytag: member="ArLocalizationTask::setCurrentNumSamples" ref="88fee6071ca753a7a564f3338df6e45d" args="(int n)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#88fee6071ca753a7a564f3338df6e45d">setCurrentNumSamples</a> (int n)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the variable number of samples (usually adjusted automatically). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="64ebade1aaf941a51c5637556b94f3df"></a><!-- doxytag: member="ArLocalizationTask::setPassThreshold" ref="64ebade1aaf941a51c5637556b94f3df" args="(double f)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#64ebade1aaf941a51c5637556b94f3df">setPassThreshold</a> (double f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the pass threshold for fraction of laser points matched to env. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="bf64d10ecf6f72422515ab883dc90e86"></a><!-- doxytag: member="ArLocalizationTask::setSensorBelief" ref="bf64d10ecf6f72422515ab883dc90e86" args="(double sensorBelief)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#bf64d10ecf6f72422515ab883dc90e86">setSensorBelief</a> (double sensorBelief)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the sensor belief. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="572ce384a18f4cc4271d9ea224ca8613"></a><!-- doxytag: member="ArLocalizationTask::setCurrentLocaPose" ref="572ce384a18f4cc4271d9ea224ca8613" args="(double x, double y, double th)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#572ce384a18f4cc4271d9ea224ca8613">setCurrentLocaPose</a> (double x, double y, double th)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the current pose. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="812685da6700427cb1bee836115a722e"></a><!-- doxytag: member="ArLocalizationTask::setCurrentLocaPose" ref="812685da6700427cb1bee836115a722e" args="(ArPose p)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#812685da6700427cb1bee836115a722e">setCurrentLocaPose</a> (ArPose p)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the current pose. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="215bc3e75c887ffd5c0aa76f3d64ebff"></a><!-- doxytag: member="ArLocalizationTask::setVerboseFlag" ref="215bc3e75c887ffd5c0aa76f3d64ebff" args="(bool a)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#215bc3e75c887ffd5c0aa76f3d64ebff">setVerboseFlag</a> (bool a)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the verbose flag value. (for debugging). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e981e8dcc712da20ff5b9940d3c10fde"></a><!-- doxytag: member="ArLocalizationTask::setAngleIncrement" ref="e981e8dcc712da20ff5b9940d3c10fde" args="(double f)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#e981e8dcc712da20ff5b9940d3c10fde">setAngleIncrement</a> (double f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the laser increments. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="cc58084579c9900f608f1f8a4cbbb5bc"></a><!-- doxytag: member="ArLocalizationTask::setKillThreshold" ref="cc58084579c9900f608f1f8a4cbbb5bc" args="(double f)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>setKillThreshold</b> (double f)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1d93112a63d516af5b4d82d8cc33bed6"></a><!-- doxytag: member="ArLocalizationTask::setRecoverOnFailedFlag" ref="1d93112a63d516af5b4d82d8cc33bed6" args="(bool f)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#1d93112a63d516af5b4d82d8cc33bed6">setRecoverOnFailedFlag</a> (bool f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the recoverOnFailed flag. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8347691797bdba24fa53bb668be7d12e"></a><!-- doxytag: member="ArLocalizationTask::setIdleFlag" ref="8347691797bdba24fa53bb668be7d12e" args="(bool f)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#8347691797bdba24fa53bb668be7d12e">setIdleFlag</a> (bool f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the idle flag. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1fc3d1d4a52dc7a5d89b767e941eb451"></a><!-- doxytag: member="ArLocalizationTask::setReloadingMapFlag" ref="1fc3d1d4a52dc7a5d89b767e941eb451" args="(bool f)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#1fc3d1d4a52dc7a5d89b767e941eb451">setReloadingMapFlag</a> (bool f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the map reloading flag. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="26662f0cdd4d534682e3d2c65a640be7"></a><!-- doxytag: member="ArLocalizationTask::setEnableReflectorLocalizationFlag" ref="26662f0cdd4d534682e3d2c65a640be7" args="(bool f)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#26662f0cdd4d534682e3d2c65a640be7">setEnableReflectorLocalizationFlag</a> (bool f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the flag to fuse all sensors. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="784d83be81129688a21dc973ca84bb9a"></a><!-- doxytag: member="ArLocalizationTask::setReflectorVar" ref="784d83be81129688a21dc973ca84bb9a" args="(double f)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#784d83be81129688a21dc973ca84bb9a">setReflectorVar</a> (double f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the variance in the XY for the reflector centers. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="98accd6d40d9deaaad20b9d59f9c6e7c"></a><!-- doxytag: member="ArLocalizationTask::setReflectorMatchDist" ref="98accd6d40d9deaaad20b9d59f9c6e7c" args="(double f)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#98accd6d40d9deaaad20b9d59f9c6e7c">setReflectorMatchDist</a> (double f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the radius to search for a reflector to match a given reflection. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4e5d4c4105281be795a55c9b6c710802"></a><!-- doxytag: member="ArLocalizationTask::setReflectorMatchAngle" ref="4e5d4c4105281be795a55c9b6c710802" args="(double f)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#4e5d4c4105281be795a55c9b6c710802">setReflectorMatchAngle</a> (double f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the angle to search for a reflector to match a given reflection. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="65a4eeba4da6ef72d15c105d50b0caa4"></a><!-- doxytag: member="ArLocalizationTask::setReflectorMaxRange" ref="65a4eeba4da6ef72d15c105d50b0caa4" args="(double f)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#65a4eeba4da6ef72d15c105d50b0caa4">setReflectorMaxRange</a> (double f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the maximum distance the reflector can be seen. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="075f34fd46da670dd00823a4c6014359"></a><!-- doxytag: member="ArLocalizationTask::setReflectorMaxAngle" ref="075f34fd46da670dd00823a4c6014359" args="(double f)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#075f34fd46da670dd00823a4c6014359">setReflectorMaxAngle</a> (double f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the maximum incident angle the reflector can be seen. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2dd0d93b33324e7a16e4cf44d0e5f917"></a><!-- doxytag: member="ArLocalizationTask::setReflectorSize" ref="2dd0d93b33324e7a16e4cf44d0e5f917" args="(double f)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#2dd0d93b33324e7a16e4cf44d0e5f917">setReflectorSize</a> (double f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the reflector size. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4b1b3b16d938141108234effa8c15911"></a><!-- doxytag: member="ArLocalizationTask::setReflectanceThreshold" ref="4b1b3b16d938141108234effa8c15911" args="(int f)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#4b1b3b16d938141108234effa8c15911">setReflectanceThreshold</a> (int f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the reflectance threshold. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8623348451fbf8b2ccfff312a7e38a47"></a><!-- doxytag: member="ArLocalizationTask::setBypassMCLFlag" ref="8623348451fbf8b2ccfff312a7e38a47" args="(bool f)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#8623348451fbf8b2ccfff312a7e38a47">setBypassMCLFlag</a> (bool f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the flag which decides to bypasses MCL and use reflectors. <br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Accessors for current configuration values.</div></td></tr>
<tr><td colspan="2"><div class="groupText">These values are normally set via ArConfig (the "Localization" section) by loading a file or other means, or by calling the modifier functions above. <br><br></div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#3496da7e592e4aec62b41705a36eeeaf">getForceUpdateParams</a> (ArPose &amp;forcePose, int &amp;numSamples, double &amp;xStd, double &amp;yStd, double &amp;tStd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the params to do the localization from the class.  <a href="#3496da7e592e4aec62b41705a36eeeaf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="543fb5a61cc5a9330299e55529478b98"></a><!-- doxytag: member="ArLocalizationTask::getVerboseFlag" ref="543fb5a61cc5a9330299e55529478b98" args="(void)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#543fb5a61cc5a9330299e55529478b98">getVerboseFlag</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the verbose flag. (for debugging only). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7fd43f44bed869efdcbaa88812f34210"></a><!-- doxytag: member="ArLocalizationTask::getInitializedFlag" ref="7fd43f44bed869efdcbaa88812f34210" args="(void)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#7fd43f44bed869efdcbaa88812f34210">getInitializedFlag</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the initialized flag indicating if localization thread is on. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8d5f53fc8343636fe5d424b9585cc5e1"></a><!-- doxytag: member="ArLocalizationTask::getNumSamples" ref="8d5f53fc8343636fe5d424b9585cc5e1" args="(void)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#8d5f53fc8343636fe5d424b9585cc5e1">getNumSamples</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the maximum number of samples used in the MCL. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1e76b1985129decef1c3e32550cb08ee"></a><!-- doxytag: member="ArLocalizationTask::getNumSamplesAtInit" ref="1e76b1985129decef1c3e32550cb08ee" args="(void)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#1e76b1985129decef1c3e32550cb08ee">getNumSamplesAtInit</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the number of samples used in the MCL during initialization. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="389211b9281d2b2184f22d48e95bd1bb"></a><!-- doxytag: member="ArLocalizationTask::getRayTraceAtInit" ref="389211b9281d2b2184f22d48e95bd1bb" args="(void)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#389211b9281d2b2184f22d48e95bd1bb">getRayTraceAtInit</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the flag which decides on ray tracing for localize at init. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f05fb6f78dbb52b3937698ef467e3d1a"></a><!-- doxytag: member="ArLocalizationTask::getCurrentNumSamples" ref="f05fb6f78dbb52b3937698ef467e3d1a" args="(void)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#f05fb6f78dbb52b3937698ef467e3d1a">getCurrentNumSamples</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the variable number of samples if adjusted during move. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ArPose&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#f792eeae492bded0ebba93fb375972ba">getRobotMaxProbPose</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the current computed best robot pose.  <a href="#f792eeae492bded0ebba93fb375972ba"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e52e56e35dd48ffc980f05f1da54bf0f"></a><!-- doxytag: member="ArLocalizationTask::getTriggerDelR" ref="e52e56e35dd48ffc980f05f1da54bf0f" args="(void)" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#e52e56e35dd48ffc980f05f1da54bf0f">getTriggerDelR</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the min distance to localize. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e6a7140a969c50aacb3d1064ff080946"></a><!-- doxytag: member="ArLocalizationTask::getTriggerDelT" ref="e6a7140a969c50aacb3d1064ff080946" args="(void)" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#e6a7140a969c50aacb3d1064ff080946">getTriggerDelT</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the min angle to localize. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1ca678ba3a7a985accdf1b0ba0dcbc5e"></a><!-- doxytag: member="ArLocalizationTask::getTriggerTimeFlag" ref="1ca678ba3a7a985accdf1b0ba0dcbc5e" args="(void)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#1ca678ba3a7a985accdf1b0ba0dcbc5e">getTriggerTimeFlag</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the flag indicating if localization should trigger on idle. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="bfa4c078cc52329a305c59391302684e"></a><!-- doxytag: member="ArLocalizationTask::getTriggerTime" ref="bfa4c078cc52329a305c59391302684e" args="(void)" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#bfa4c078cc52329a305c59391302684e">getTriggerTime</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the min time in millisecs to be idle. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1bead92d4162fcff955354696674beea"></a><!-- doxytag: member="ArLocalizationTask::getTriggerTimeX" ref="1bead92d4162fcff955354696674beea" args="(void)" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#1bead92d4162fcff955354696674beea">getTriggerTimeX</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the X range of samples when localization triggers on idle. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a30a4539d9ca39e244372bb695ac525f"></a><!-- doxytag: member="ArLocalizationTask::getTriggerTimeY" ref="a30a4539d9ca39e244372bb695ac525f" args="(void)" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a30a4539d9ca39e244372bb695ac525f">getTriggerTimeY</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the Y range of samples when localization triggers on idle. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="af95f138830ff1b83557d701941fdd86"></a><!-- doxytag: member="ArLocalizationTask::getTriggerTimeTh" ref="af95f138830ff1b83557d701941fdd86" args="(void)" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#af95f138830ff1b83557d701941fdd86">getTriggerTimeTh</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the Theta range of samples when localization triggers on idle. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="60f5ae538e23a87bca4bdca4b6309654"></a><!-- doxytag: member="ArLocalizationTask::getPassThreshold" ref="60f5ae538e23a87bca4bdca4b6309654" args="(void)" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#60f5ae538e23a87bca4bdca4b6309654">getPassThreshold</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the Pass threshold for localization success. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="45a876f33cf931ab7b318c54cca609ef"></a><!-- doxytag: member="ArLocalizationTask::getUsingPassThreshold" ref="45a876f33cf931ab7b318c54cca609ef" args="(void)" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#45a876f33cf931ab7b318c54cca609ef">getUsingPassThreshold</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the Pass threshold for localization success being used right now. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6af640031778a4270e0820edbdeeea42"></a><!-- doxytag: member="ArLocalizationTask::setTempPassThreshold" ref="6af640031778a4270e0820edbdeeea42" args="(double passThreshold)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#6af640031778a4270e0820edbdeeea42">setTempPassThreshold</a> (double passThreshold)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the Pass threshold to use until it is reset to config. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="31e002a2cc0cdfab58eb9f0d273b088a"></a><!-- doxytag: member="ArLocalizationTask::getTempPassThreshold" ref="31e002a2cc0cdfab58eb9f0d273b088a" args="(void)" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#31e002a2cc0cdfab58eb9f0d273b088a">getTempPassThreshold</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the temporary pass threshold to use until it is reset to config. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a5fe3a7ef20b5fa16bf57860bb0dfd00"></a><!-- doxytag: member="ArLocalizationTask::clearTempPassThreshold" ref="a5fe3a7ef20b5fa16bf57860bb0dfd00" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a5fe3a7ef20b5fa16bf57860bb0dfd00">clearTempPassThreshold</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Resets the Pass threshold to config. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#17ff3d74dfa7cd4955c284a954e2ba03">getLocalizationScore</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the higher of MCL and Reflector based localization.  <a href="#17ff3d74dfa7cd4955c284a954e2ba03"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#8f5b71d10d7b11ebd5e63197900dfb21">getLocalizationThreshold</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the localization threshold.  <a href="#8f5b71d10d7b11ebd5e63197900dfb21"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#148f1bb397893b999c65e073ed5d6545">getMCLocalizationScore</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the localization score based on Monte Carlo only.  <a href="#148f1bb397893b999c65e073ed5d6545"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#596c49de848f2c05afd46255b1435494">getRefLocalizationScore</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the localization score based on reflectors only.  <a href="#596c49de848f2c05afd46255b1435494"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="140609107bd8d86775854d567747222c"></a><!-- doxytag: member="ArLocalizationTask::getSensorBelief" ref="140609107bd8d86775854d567747222c" args="(void)" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#140609107bd8d86775854d567747222c">getSensorBelief</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the sensor belief. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="13fa66d9a4c5913eb6ecee824eb981b1"></a><!-- doxytag: member="ArLocalizationTask::getCurrentLocaPose" ref="13fa66d9a4c5913eb6ecee824eb981b1" args="(void)" -->
ArPose&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#13fa66d9a4c5913eb6ecee824eb981b1">getCurrentLocaPose</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the last successful MCLocalized pose. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ed6c6c077dd76bccea615ebe62f90d18"></a><!-- doxytag: member="ArLocalizationTask::getStdX" ref="ed6c6c077dd76bccea615ebe62f90d18" args="(void) const " -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>getStdX</b> (void) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f799df2e20c3db41196834a12ed7c4f6"></a><!-- doxytag: member="ArLocalizationTask::getStdY" ref="f799df2e20c3db41196834a12ed7c4f6" args="(void) const " -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>getStdY</b> (void) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="48c230b57cf58b5a124e8fcf0725e109"></a><!-- doxytag: member="ArLocalizationTask::getStdTh" ref="48c230b57cf58b5a124e8fcf0725e109" args="(void) const " -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>getStdTh</b> (void) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a4e2a0a0499eef3fb828da0eaba0af82"></a><!-- doxytag: member="ArLocalizationTask::getErrorMmPerMm" ref="a4e2a0a0499eef3fb828da0eaba0af82" args="(void) const " -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>getErrorMmPerMm</b> (void) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8063f523a20336c5409071936c997ecd"></a><!-- doxytag: member="ArLocalizationTask::getErrorDegPerDeg" ref="8063f523a20336c5409071936c997ecd" args="(void) const " -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>getErrorDegPerDeg</b> (void) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3e2b62cbdef89ad009467c3ee6828aab"></a><!-- doxytag: member="ArLocalizationTask::getErrorDegPerMm" ref="3e2b62cbdef89ad009467c3ee6828aab" args="(void) const " -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>getErrorDegPerMm</b> (void) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5feeaabfd19dac7b75aa8f92aa1ff72a"></a><!-- doxytag: member="ArLocalizationTask::getSensorBelief" ref="5feeaabfd19dac7b75aa8f92aa1ff72a" args="(void) const " -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>getSensorBelief</b> (void) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0459b6a9f338a7e8682fc0bb24816a43"></a><!-- doxytag: member="ArLocalizationTask::getPeakFactor" ref="0459b6a9f338a7e8682fc0bb24816a43" args="(void) const " -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>getPeakFactor</b> (void) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="19428930252380d6c060b63f58ac96d5"></a><!-- doxytag: member="ArLocalizationTask::getOccThreshold" ref="19428930252380d6c060b63f58ac96d5" args="(void) const " -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>getOccThreshold</b> (void) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f901e3bcdbc850d1c379038ac2ac51e9"></a><!-- doxytag: member="ArLocalizationTask::getGridRes" ref="f901e3bcdbc850d1c379038ac2ac51e9" args="(void) const " -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>getGridRes</b> (void) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b07f0927ab10ebea77a6dcde48e109ab"></a><!-- doxytag: member="ArLocalizationTask::getMapName" ref="b07f0927ab10ebea77a6dcde48e109ab" args="(void)" -->
char *&nbsp;</td><td class="memItemRight" valign="bottom"><b>getMapName</b> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8fb30638ba9fd0965a1d898ec2d83420"></a><!-- doxytag: member="ArLocalizationTask::getPeturbRangeX" ref="8fb30638ba9fd0965a1d898ec2d83420" args="(void) const " -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>getPeturbRangeX</b> (void) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4270abb114221919b69614376aa7d1e4"></a><!-- doxytag: member="ArLocalizationTask::getPeturbRangeY" ref="4270abb114221919b69614376aa7d1e4" args="(void) const " -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>getPeturbRangeY</b> (void) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="47e1a61c245db69fdab141aa73df485e"></a><!-- doxytag: member="ArLocalizationTask::getPeturbRangeTh" ref="47e1a61c245db69fdab141aa73df485e" args="(void) const " -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>getPeturbRangeTh</b> (void) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7e9f8660c712fb447fd9ed037c6d9145"></a><!-- doxytag: member="ArLocalizationTask::getFailedRangeX" ref="7e9f8660c712fb447fd9ed037c6d9145" args="(void) const " -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>getFailedRangeX</b> (void) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="dd2d7e72198928340a1647b5ef384d74"></a><!-- doxytag: member="ArLocalizationTask::getFailedRangeY" ref="dd2d7e72198928340a1647b5ef384d74" args="(void) const " -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>getFailedRangeY</b> (void) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e513701e1c91c012acad9c3730f3a4ad"></a><!-- doxytag: member="ArLocalizationTask::getFailedRangeTh" ref="e513701e1c91c012acad9c3730f3a4ad" args="(void) const " -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>getFailedRangeTh</b> (void) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5ab5031666505fa70cf3f8fb608a24f1"></a><!-- doxytag: member="ArLocalizationTask::getPeakStdX" ref="5ab5031666505fa70cf3f8fb608a24f1" args="(void) const " -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>getPeakStdX</b> (void) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1f22bea574ca89fe75a9c15e5495868c"></a><!-- doxytag: member="ArLocalizationTask::getPeakStdY" ref="1f22bea574ca89fe75a9c15e5495868c" args="(void) const " -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>getPeakStdY</b> (void) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="84566a25227c5dbfb2dcb8ee82aa05d3"></a><!-- doxytag: member="ArLocalizationTask::getPeakStdTh" ref="84566a25227c5dbfb2dcb8ee82aa05d3" args="(void) const " -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>getPeakStdTh</b> (void) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="21b55051c4c68cb09143ed0990329edb"></a><!-- doxytag: member="ArLocalizationTask::getAngleIncrement" ref="21b55051c4c68cb09143ed0990329edb" args="(void) const " -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>getAngleIncrement</b> (void) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0eec2253ce5406f29bc4d696027fbee6"></a><!-- doxytag: member="ArLocalizationTask::getKillThreshold" ref="0eec2253ce5406f29bc4d696027fbee6" args="(void) const " -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>getKillThreshold</b> (void) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="47e9e89d2d3686129a273502376c38d5"></a><!-- doxytag: member="ArLocalizationTask::getAriaMap" ref="47e9e89d2d3686129a273502376c38d5" args="(void)" -->
ArMapInterface *&nbsp;</td><td class="memItemRight" valign="bottom"><b>getAriaMap</b> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="abb4065ddc9378034beb9f651aea7a3b"></a><!-- doxytag: member="ArLocalizationTask::getBufferSize" ref="abb4065ddc9378034beb9f651aea7a3b" args="(void)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#abb4065ddc9378034beb9f651aea7a3b">getBufferSize</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Scan Buffer size. (internal laser scan buffer). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="51ca80c6465fb5244ec3554512d7a53c"></a><!-- doxytag: member="ArLocalizationTask::getXYBuffer" ref="51ca80c6465fb5244ec3554512d7a53c" args="(void)" -->
std::vector&lt; ArPose &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#51ca80c6465fb5244ec3554512d7a53c">getXYBuffer</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Scan Buffer XY. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0888968d49fc6948dc308107c0b9adf7"></a><!-- doxytag: member="ArLocalizationTask::getBufferPose" ref="0888968d49fc6948dc308107c0b9adf7" args="(void)" -->
ArPose&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#0888968d49fc6948dc308107c0b9adf7">getBufferPose</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Scan Buffer pose taken. (internal laser scan buffer). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d7e2d04480b92ff71591e0ba9580835c"></a><!-- doxytag: member="ArLocalizationTask::getOccGridPtr" ref="d7e2d04480b92ff71591e0ba9580835c" args="(void)" -->
ArOccGrid *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#d7e2d04480b92ff71591e0ba9580835c">getOccGridPtr</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns pointer to the occgrid. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual std::list&lt; ArPose &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#4233c8676f07bec46818968f94d1368e">getCurrentSamplePoses</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the pose samples for client.  <a href="#4233c8676f07bec46818968f94d1368e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="bf11303e5e4eb3def5d55bdc1171d64b"></a><!-- doxytag: member="ArLocalizationTask::getRecoverOnFailedFlag" ref="bf11303e5e4eb3def5d55bdc1171d64b" args="(void)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#bf11303e5e4eb3def5d55bdc1171d64b">getRecoverOnFailedFlag</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the recoverOnFailed flag. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b7cfe3f1310d008cc5fc3df30ddbfb56"></a><!-- doxytag: member="ArLocalizationTask::getIgnoreIllegalPoseFlag" ref="b7cfe3f1310d008cc5fc3df30ddbfb56" args="(void)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#b7cfe3f1310d008cc5fc3df30ddbfb56">getIgnoreIllegalPoseFlag</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the flag which allows poses overlaping occupied points on map. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="25a0d6f1106c2ff7f91b73e3b5015f2c"></a><!-- doxytag: member="ArLocalizationTask::getAdjustNumSamplesFlag" ref="25a0d6f1106c2ff7f91b73e3b5015f2c" args="(void)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#25a0d6f1106c2ff7f91b73e3b5015f2c">getAdjustNumSamplesFlag</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the flag which allows for changing numSamples with loca score. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f8bf501008f0b95fac5ace86d5b65fcb"></a><!-- doxytag: member="ArLocalizationTask::getMinNumSamples" ref="f8bf501008f0b95fac5ace86d5b65fcb" args="(void)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#f8bf501008f0b95fac5ace86d5b65fcb">getMinNumSamples</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the minimum no of samples the localization will drop to. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="799d754314c1a30af617e3072b13b51d"></a><!-- doxytag: member="ArLocalizationTask::getNumSamplesAngleFactor" ref="799d754314c1a30af617e3072b13b51d" args="(void)" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#799d754314c1a30af617e3072b13b51d">getNumSamplesAngleFactor</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the rotation factor for adjusting no of samples with score. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="26414579b521a99ee9f029f618e546e3"></a><!-- doxytag: member="ArLocalizationTask::getSensorSetFlag" ref="26414579b521a99ee9f029f618e546e3" args="(void)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#26414579b521a99ee9f029f618e546e3">getSensorSetFlag</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the value of the sensor set flag which indicates new cycle. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="65e4d07cbb1fc711546d458bf9f0cd90"></a><!-- doxytag: member="ArLocalizationTask::getEnableReflectorLocalizationFlag" ref="65e4d07cbb1fc711546d458bf9f0cd90" args="(void)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#65e4d07cbb1fc711546d458bf9f0cd90">getEnableReflectorLocalizationFlag</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the flag to fuse all sensors. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="267d7bed9dd997c1aaa9af9083673dd3"></a><!-- doxytag: member="ArLocalizationTask::getReflectorVar" ref="267d7bed9dd997c1aaa9af9083673dd3" args="(void)" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#267d7bed9dd997c1aaa9af9083673dd3">getReflectorVar</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the variance in the XY for the reflector centers. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6c550e26abaf4c667a9b26c60d23565e"></a><!-- doxytag: member="ArLocalizationTask::getReflectorMatchDist" ref="6c550e26abaf4c667a9b26c60d23565e" args="(void)" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#6c550e26abaf4c667a9b26c60d23565e">getReflectorMatchDist</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the radius to search for a reflector to match a given reflection. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="de4aea3165fb6c4b2cb2ae13b7638f88"></a><!-- doxytag: member="ArLocalizationTask::getReflectorMatchAngle" ref="de4aea3165fb6c4b2cb2ae13b7638f88" args="(void)" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#de4aea3165fb6c4b2cb2ae13b7638f88">getReflectorMatchAngle</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the angle to search for a reflector to match a given reflection. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0e65a10fadec0d7bca570c408b4ca0b1"></a><!-- doxytag: member="ArLocalizationTask::getReflectorMaxRange" ref="0e65a10fadec0d7bca570c408b4ca0b1" args="(void)" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#0e65a10fadec0d7bca570c408b4ca0b1">getReflectorMaxRange</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the maximum distance the reflector can be seen. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b96bfaf05d3e4506b4008606ac33a294"></a><!-- doxytag: member="ArLocalizationTask::getReflectorMaxAngle" ref="b96bfaf05d3e4506b4008606ac33a294" args="(void)" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#b96bfaf05d3e4506b4008606ac33a294">getReflectorMaxAngle</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the maximum incident angle the reflector can be seen. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2095fcd5cd905203474be0c96d9dee37"></a><!-- doxytag: member="ArLocalizationTask::getReflectorSize" ref="2095fcd5cd905203474be0c96d9dee37" args="(void)" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#2095fcd5cd905203474be0c96d9dee37">getReflectorSize</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the reflector size param. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="89f81db5e94804701e6fb23ffe5cebbb"></a><!-- doxytag: member="ArLocalizationTask::getReflectanceThreshold" ref="89f81db5e94804701e6fb23ffe5cebbb" args="(void)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#89f81db5e94804701e6fb23ffe5cebbb">getReflectanceThreshold</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the reflectance threshold. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="163a68ca5bf7039635ff54e9f7325c6a"></a><!-- doxytag: member="ArLocalizationTask::getBypassMCLFlag" ref="163a68ca5bf7039635ff54e9f7325c6a" args="(void)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#163a68ca5bf7039635ff54e9f7325c6a">getBypassMCLFlag</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the flag which decides to bypasses MCL and use reflectors. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="256359c8977ec7af87ad8d5120edc840"></a><!-- doxytag: member="ArLocalizationTask::getReflectorTriDistLimit" ref="256359c8977ec7af87ad8d5120edc840" args="(void)" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#256359c8977ec7af87ad8d5120edc840">getReflectorTriDistLimit</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the triangulation dist limit. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="547f192eea11aa670e56ca7cc777c168"></a><!-- doxytag: member="ArLocalizationTask::getReflectorTriAngLimit" ref="547f192eea11aa670e56ca7cc777c168" args="(void)" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#547f192eea11aa670e56ca7cc777c168">getReflectorTriAngLimit</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the triangulation angle limit. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f55a5a3df5914afa578a4f496551987a"></a><!-- doxytag: member="ArLocalizationTask::getBadReflectorFactor" ref="f55a5a3df5914afa578a4f496551987a" args="(void)" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#f55a5a3df5914afa578a4f496551987a">getBadReflectorFactor</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the bad reflector factor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ArMatrix&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#0fce008f71a6a21c1c12f42725a2a5e4">getQParams</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the bad reflector factor.  <a href="#0fce008f71a6a21c1c12f42725a2a5e4"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Functions used internally by ARNL</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#042dbaa5968dcbef85a39097e7118f05">fillHistogram</a> (double *&amp;hist, double *&amp;cumSum, int &amp;numSamples)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fill prob distribution histogram for debugging.  <a href="#042dbaa5968dcbef85a39097e7118f05"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#69cf1e10d3ae662c7aa522c04692523e">scanToGlobalCoords</a> (ArPose robPose, std::vector&lt; ArPose &gt; &amp;xyLrf)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert the laser data to x and y coord array.  <a href="#69cf1e10d3ae662c7aa522c04692523e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8aeb74826d037955317b7b65e89cf2ca"></a><!-- doxytag: member="ArLocalizationTask::getLastLocaTime" ref="8aeb74826d037955317b7b65e89cf2ca" args="(void)" -->
ArTime&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#8aeb74826d037955317b7b65e89cf2ca">getLastLocaTime</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the last loca time to now. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#1cf4fe008b9144d74b7b7674aa014de3">setLocaParams</a> (double xStd, double yStd, double tStd, double kMmPerMm, double kDegPerDeg, double kDegPerMm, double sensorBelief)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set all the parameters for localization.  <a href="#1cf4fe008b9144d74b7b7674aa014de3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="364266a49f61fec08b84f13a56683e35"></a><!-- doxytag: member="ArLocalizationTask::setIgnoreIllegalPoseFlag" ref="364266a49f61fec08b84f13a56683e35" args="(bool f)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#364266a49f61fec08b84f13a56683e35">setIgnoreIllegalPoseFlag</a> (bool f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the flag which allows poses overlaping occupied points on map. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c017b603fe88162951a247d1e6199145"></a><!-- doxytag: member="ArLocalizationTask::setAdjustNumSamplesFlag" ref="c017b603fe88162951a247d1e6199145" args="(bool f)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#c017b603fe88162951a247d1e6199145">setAdjustNumSamplesFlag</a> (bool f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the flag which changes numSamples with the localization score. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a4027e0bd9e65acc650fa5a707a39fe5"></a><!-- doxytag: member="ArLocalizationTask::setMinNumSamples" ref="a4027e0bd9e65acc650fa5a707a39fe5" args="(int n)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a4027e0bd9e65acc650fa5a707a39fe5">setMinNumSamples</a> (int n)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the minimum no of samples the localization will drop to. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1e8f481aeb6c32ca9ab413ca46e1c45c"></a><!-- doxytag: member="ArLocalizationTask::setNumSamplesAngleFactor" ref="1e8f481aeb6c32ca9ab413ca46e1c45c" args="(double f)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#1e8f481aeb6c32ca9ab413ca46e1c45c">setNumSamplesAngleFactor</a> (double f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the rotation factor for adjusting no of samples with score. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3b5aa090e33f9e2f7e5cc77e8b778ee3"></a><!-- doxytag: member="ArLocalizationTask::setLastLocaTimeToNow" ref="3b5aa090e33f9e2f7e5cc77e8b778ee3" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#3b5aa090e33f9e2f7e5cc77e8b778ee3">setLastLocaTimeToNow</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the last loca time to now. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f3cbbc758daaff32eb60dffe10d37cee"></a><!-- doxytag: member="ArLocalizationTask::setSensorSetFlag" ref="f3cbbc758daaff32eb60dffe10d37cee" args="(bool p)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#f3cbbc758daaff32eb60dffe10d37cee">setSensorSetFlag</a> (bool p)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the value of the sensor set flag which indicates new cycle. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#bb81de74b4dcbc537762c0546fcdb0bd">computeLastLocaMeanVar</a> (ArPose &amp;mean, ArMatrix &amp;Var)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The compute the mean and var as soon as MCL finds a pose.  <a href="#bb81de74b4dcbc537762c0546fcdb0bd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#aea773697292601401f9c334c07b401e">findMCLMeanVar</a> (ArPose &amp;mean, ArMatrix &amp;Var)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finds the mean and var of MCL after moving to present pose.  <a href="#aea773697292601401f9c334c07b401e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#dcdb0031f524e302d9a4cbdd7fa1c77f">findLocalizationMeanVar</a> (ArPose &amp;mean, ArMatrix &amp;Var)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The actual mean var calculator for the virtual in the base class.  <a href="#dcdb0031f524e302d9a4cbdd7fa1c77f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="88c2e8ddf1911320caeea2ea6778b4d5"></a><!-- doxytag: member="ArLocalizationTask::setCorrectRobotFlag" ref="88c2e8ddf1911320caeea2ea6778b4d5" args="(bool f)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#88c2e8ddf1911320caeea2ea6778b4d5">setCorrectRobotFlag</a> (bool f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the flag deciding whether to reflect localized pose onto the robot. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#fcaa0fed44123fe941d5c9fdd8333226">setRobotPose</a> (ArPose pose, ArPose spread=ArPose(0, 0, 0), int nSam=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Used to set the robot pose usually at the start of localization.  <a href="#fcaa0fed44123fe941d5c9fdd8333226"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="089dd38a26726544962e01061208c7b0"></a><!-- doxytag: member="ArLocalizationTask::getRobotIsLostFlag" ref="089dd38a26726544962e01061208c7b0" args="(void)" -->
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#089dd38a26726544962e01061208c7b0">getRobotIsLostFlag</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the lost flag. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a1fb43d3d58a0e68dd57a8192225d0ce"></a><!-- doxytag: member="ArLocalizationTask::setLocalizationIdle" ref="a1fb43d3d58a0e68dd57a8192225d0ce" args="(bool f)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a1fb43d3d58a0e68dd57a8192225d0ce">setLocalizationIdle</a> (bool f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the localization idle. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="16785207859d9a7d3fefcd8571ab37aa"></a><!-- doxytag: member="ArLocalizationTask::getEncoderToLocalizationTransform" ref="16785207859d9a7d3fefcd8571ab37aa" args="(void)" -->
virtual ArTransform&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#16785207859d9a7d3fefcd8571ab37aa">getEncoderToLocalizationTransform</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the transform from the encoder to the laser. <br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#c23da47e3d0b8f5d8b719d32c6eac381">basicInitialization</a> (ArRobot *robot, ArRangeDevice *laser)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Basic initializer (internal use only).  <a href="#c23da47e3d0b8f5d8b719d32c6eac381"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#98c9d691bdf1e69a59bee5a41cad2288">runThread</a> (void *ptr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function used to run the task as a thread.  <a href="#98c9d691bdf1e69a59bee5a41cad2288"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#0c45146e44c9514ca631d74cf5d9e3d5">correctPoseFromSensor</a> (double increment, bool rayTrace, bool ignoreBadProb)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function which does the main eqn for the actual MCL localization.  <a href="#0c45146e44c9514ca631d74cf5d9e3d5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2957c5c7802da37f84a78c3e94f42f30"></a><!-- doxytag: member="ArLocalizationTask::getLocalizedFlag" ref="2957c5c7802da37f84a78c3e94f42f30" args="(void)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#2957c5c7802da37f84a78c3e94f42f30">getLocalizedFlag</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the localized flag. (do not use). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ee957e03b5e00a96d32ca6006973c3ed"></a><!-- doxytag: member="ArLocalizationTask::getLocalizingFlag" ref="ee957e03b5e00a96d32ca6006973c3ed" args="(void)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ee957e03b5e00a96d32ca6006973c3ed">getLocalizingFlag</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the localizing flag value. To avoid multiple localizing threads. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="bbf93ee53e36767086c5c6f15ada723f"></a><!-- doxytag: member="ArLocalizationTask::getRobotMovedFlag" ref="bbf93ee53e36767086c5c6f15ada723f" args="(void)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#bbf93ee53e36767086c5c6f15ada723f">getRobotMovedFlag</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the robot moved flag value. (Moved after last localization). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c831c7e5a7b752c511e43fe051f2dc3b"></a><!-- doxytag: member="ArLocalizationTask::getCorrectRobotFlag" ref="c831c7e5a7b752c511e43fe051f2dc3b" args="(void)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#c831c7e5a7b752c511e43fe051f2dc3b">getCorrectRobotFlag</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the flag indicating if localization result will be set on robot. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="08e14ddb1961ade945b5112ace14a57e"></a><!-- doxytag: member="ArLocalizationTask::getLogFlag" ref="08e14ddb1961ade945b5112ace14a57e" args="(void)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#08e14ddb1961ade945b5112ace14a57e">getLogFlag</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the flag indicating if logging. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="75b87dbbd7b790b2112e882a8fa6c37a"></a><!-- doxytag: member="ArLocalizationTask::setLocalizedFlag" ref="75b87dbbd7b790b2112e882a8fa6c37a" args="(bool a)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#75b87dbbd7b790b2112e882a8fa6c37a">setLocalizedFlag</a> (bool a)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the localized flag value. (do not use). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="128e2d8e388daa937c23be07e5fb21d8"></a><!-- doxytag: member="ArLocalizationTask::setInitializedFlag" ref="128e2d8e388daa937c23be07e5fb21d8" args="(bool a)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#128e2d8e388daa937c23be07e5fb21d8">setInitializedFlag</a> (bool a)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the initialized flag value indicating robot was localized or not. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a765bffc203185daccf10b84f3ba36e0"></a><!-- doxytag: member="ArLocalizationTask::setRobotMovedFlag" ref="a765bffc203185daccf10b84f3ba36e0" args="(bool a)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a765bffc203185daccf10b84f3ba36e0">setRobotMovedFlag</a> (bool a)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the robot moved flag to set off MCL. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#73b1b865d841bec26975d3a3e360d781">initializeSamples</a> (int numSamples)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize the MCL samples.  <a href="#73b1b865d841bec26975d3a3e360d781"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#bf3a69d36cba5fcdac74bb0c2c3bef2a">scanLaserIntoArray</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the laser buffer into data structure.  <a href="#bf3a69d36cba5fcdac74bb0c2c3bef2a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ArOccGrid *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#b2a2ac2ccd851d0713e2ed207448e925">initializeOccGrid</a> (double res, ArMapInterface *ariaMap, bool lockMap=true)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set resolution of the occupancy grid and fill it.  <a href="#b2a2ac2ccd851d0713e2ed207448e925"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#78eb084d33e2b5396546e34d51f286f5">killBadSamples</a> (double obsThreshold)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Legalize samples to eliminate illegal location such as on obstacles.  <a href="#78eb084d33e2b5396546e34d51f286f5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#82bd7ad49ec8ae3da3cf54acd92b2cda">saveSamples</a> (bool saveFile=false)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Save samples for backup.  <a href="#82bd7ad49ec8ae3da3cf54acd92b2cda"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#f11585e1c129de81724cb84b7786f893">findBestPoses</a> (ArRobotPoseSamples *mrsp, double factor)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find the best poses by looking at prob distribution peaks.  <a href="#f11585e1c129de81724cb84b7786f893"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d6752b193aaa0b36332823bf388b6f19"></a><!-- doxytag: member="ArLocalizationTask::getNumBestPoses" ref="d6752b193aaa0b36332823bf388b6f19" args="(ArRobotPoseSamples *mrsp)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#d6752b193aaa0b36332823bf388b6f19">getNumBestPoses</a> (ArRobotPoseSamples *mrsp)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the number of peaks. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#e676af484acbb431c7255a9a6bfe90c1">findSamplesStatistics</a> (double &amp;xMean, double &amp;yMean, double &amp;thMean, double &amp;xStd, double &amp;yStd, double &amp;tStd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compute statistics of samples after localization.  <a href="#e676af484acbb431c7255a9a6bfe90c1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#61478df56612d2a576e3b9feb5c6a4a3">findKalmanMeanVar</a> (ArPose &amp;mean, ArMatrix &amp;var)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the state.  <a href="#61478df56612d2a576e3b9feb5c6a4a3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#eba2b25e898f9d8a9fbdb9473972c664">fuseTwoDistributions</a> (ArPose m1, ArMatrix V1, ArPose m2, ArMatrix V2, ArPose &amp;mean, ArMatrix &amp;Var)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fuses the stats of two uniform dists into one.  <a href="#eba2b25e898f9d8a9fbdb9473972c664"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="73da19fc5974e2c4f1dc081d81c3a903"></a><!-- doxytag: member="ArLocalizationTask::getLocaTime" ref="73da19fc5974e2c4f1dc081d81c3a903" args="()" -->
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#73da19fc5974e2c4f1dc081d81c3a903">getLocaTime</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return time of last good localization. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ce35a4526ea03cf2770efc378ca43fd1">setMotionErrorParam</a> (int index, double value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set motion error params.  <a href="#ce35a4526ea03cf2770efc378ca43fd1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#784212dc51495405d30316380bc236e3">getMotionErrorParam</a> (int index)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get motion error params.  <a href="#784212dc51495405d30316380bc236e3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#4f691ab0dcc13967d10f2ffcf91cc01f">robotCallBack</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The sensor interpretation callback. Called every 100msec.  <a href="#4f691ab0dcc13967d10f2ffcf91cc01f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#2f261729e5817878e072cc16a3ad279a">configureLaser</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Needed if the laser does not connect first.  <a href="#2f261729e5817878e072cc16a3ad279a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#cf3808b321533339e09564f3b4376307">reconfigureLocalization</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Needed if the params are changed or loaded again.  <a href="#cf3808b321533339e09564f3b4376307"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0f9b4fd78f974d5d17d7689309960e73"></a><!-- doxytag: member="ArLocalizationTask::setupLocalizationParams" ref="0f9b4fd78f974d5d17d7689309960e73" args="(bool noReflectors=false)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#0f9b4fd78f974d5d17d7689309960e73">setupLocalizationParams</a> (bool noReflectors=false)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Setup the path planing params with values from ArConfig. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#f4bbb822db6052303f695f1adc55af81">failedLocalization</a> (int times)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Actual thing that gets called when localization failed.  <a href="#f4bbb822db6052303f695f1adc55af81"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#f57be98347cf8e550fc0161be3205355">dynamicallyAdjustNumSamples</a> (double dr, double dt)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Change the sample size to reflect localization score.  <a href="#f57be98347cf8e550fc0161be3205355"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a0359a1cec3157c80733bc4ef47606da">mapChanged</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function for the things to do if map changes.  <a href="#a0359a1cec3157c80733bc4ef47606da"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#e56deb15a5971c6b9750cab28149ab22">findPoseFromLandmarks</a> (const std::vector&lt; ArPose &gt; &amp;global, const std::vector&lt; ArPose &gt; &amp;local, ArPose &amp;rPose, ArMatrix &amp;Var)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Solve the triangulation eqn.  <a href="#e56deb15a5971c6b9750cab28149ab22"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e542ce59b4f039b600c55760486ed152"></a><!-- doxytag: member="ArLocalizationTask::kalmanFilter" ref="e542ce59b4f039b600c55760486ed152" args="(const std::vector&lt; ArPose &gt; &amp;global, const std::vector&lt; ArPose &gt; &amp;local, ArPose &amp;pose, ArPose &amp;deltaPose, ArPose &amp;delta, bool failedLocalization, ArPose &amp;mean, ArPose &amp;stdDev, ArPose &amp;maxInnov, double &amp;refScore)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#e542ce59b4f039b600c55760486ed152">kalmanFilter</a> (const std::vector&lt; ArPose &gt; &amp;global, const std::vector&lt; ArPose &gt; &amp;local, ArPose &amp;pose, ArPose &amp;deltaPose, ArPose &amp;delta, bool failedLocalization, ArPose &amp;mean, ArPose &amp;stdDev, ArPose &amp;maxInnov, double &amp;refScore)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Solve the Kalman thing. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#72e23dbf44d25980dca0d8bf8a0df698">getReflectionCoords</a> (ArPose &amp;poseTaken, ArPose &amp;rPose, std::vector&lt; ArPose &gt; &amp;gList, std::vector&lt; ArPose &gt; &amp;lList)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find the reflectors in local and global coords.  <a href="#72e23dbf44d25980dca0d8bf8a0df698"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#044830a523883fc7de94d07e2e487d05">getReflectorCenterCoords</a> (ArPose &amp;poseTaken, ArPose &amp;rPose, std::vector&lt; ArPose &gt; &amp;gList, std::vector&lt; ArPose &gt; &amp;lList)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find the reflector centers in local and global coords.  <a href="#044830a523883fc7de94d07e2e487d05"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#60d687e78e28459978b6e705ff684b1c">fuseSensorWithOdometry</a> (bool failedLocalization)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fuse all the sensor information.  <a href="#60d687e78e28459978b6e705ff684b1c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#4ccfea9321745055cab7b5f04aa57597">setFlagsAndCallbacksOnFail</a> (int ntimes)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the flags and call the right callbacks when loca fails ntimes.  <a href="#4ccfea9321745055cab7b5f04aa57597"></a><br></td></tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="88c08118381e60bcecf232915dfc9aba"></a><!-- doxytag: member="ArLocalizationTask::ArLocalizationTask" ref="88c08118381e60bcecf232915dfc9aba" args="(ArRobot *robot, ArRangeDevice *laser, char *mapName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArLocalizationTask::ArLocalizationTask           </td>
          <td>(</td>
          <td class="paramtype">ArRobot *&nbsp;</td>
          <td class="paramname"> <em>robot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArRangeDevice *&nbsp;</td>
          <td class="paramname"> <em>laser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>mapname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Base constructor with all the necessary inputs. 
<p>
Constructor.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>robot,:</em>&nbsp;</td><td>Robot data structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>laser,:</em>&nbsp;</td><td>Laser data structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mapname,:</em>&nbsp;</td><td>Map file containing environment map. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="a18b10d2a979b8efdb81676bf364b25b"></a><!-- doxytag: member="ArLocalizationTask::ArLocalizationTask" ref="a18b10d2a979b8efdb81676bf364b25b" args="(ArRobot *robot, ArRangeDevice *laser, ArMapInterface *ariaMap, bool noReflectors=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArLocalizationTask::ArLocalizationTask           </td>
          <td>(</td>
          <td class="paramtype">ArRobot *&nbsp;</td>
          <td class="paramname"> <em>robot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArRangeDevice *&nbsp;</td>
          <td class="paramname"> <em>laser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMapInterface *&nbsp;</td>
          <td class="paramname"> <em>ariaMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>noReflectors</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Base constructor with all the necessary inputs. 
<p>
Constructor.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>robot</em>&nbsp;</td><td>Robot data structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>laser</em>&nbsp;</td><td>Laser data structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ariaMap</em>&nbsp;</td><td>Aria map containing environment map. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>noReflectors</em>&nbsp;</td><td>If true, ignore reflector objects in the map and don't try to include them in localization </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="177bf98169a54c71c5cf3df1cd5d78c6"></a><!-- doxytag: member="ArLocalizationTask::~ArLocalizationTask" ref="177bf98169a54c71c5cf3df1cd5d78c6" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArLocalizationTask::~ArLocalizationTask           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Base destructor. 
<p>
Destructor. 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a8aae87142d4783038311287876acc56"></a><!-- doxytag: member="ArLocalizationTask::localizeRobotInMapInit" ref="a8aae87142d4783038311287876acc56" args="(ArPose given, int numSamples, double stdX, double stdY, double stdT, double thresFactor, bool warn=true, bool setInitializedToFalse=true, bool rayTrace=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::localizeRobotInMapInit           </td>
          <td>(</td>
          <td class="paramtype">ArPose&nbsp;</td>
          <td class="paramname"> <em>given</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numSamples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>stdX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>stdY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>stdT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>thresFactor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>warn</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>setInitializedToFalse</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>rayTraceFlag</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Localization function mainly for initialization of robot at given pose. 
<p>
Perform an initial map localization. This function is meant to find a robot in the map without motion. The error parameters fed to the localization are temporary and will be reset to the old values after the localization.<p>
This is mostly for internal use, or to do a localization after forcing a change in robot pose with alternative values for parameters given (used instead of values from ArConfig).<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classArLocalizationTask.html#fe38e3fc30d46cc2ab2c348366ccdf6b" title="Try initial localization at each home point at the map, \ and set the robot pose...">localizeRobotAtHomeBlocking()</a> <p>
<a class="el" href="classArLocalizationTask.html#35969f66db214d2fa1f606dbde01a407" title="Request that the task later localize the robot at a map home \ position, then return...">localizeRobotAtHomeNonBlocking()</a></dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>given,:</em>&nbsp;</td><td>Pose to start localization at. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>numSamples,:</em>&nbsp;</td><td>No of samples to be used in the MCL algorithm. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stdX,:</em>&nbsp;</td><td>Standard deviation in the X coords in mm. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stdY,:</em>&nbsp;</td><td>Standard deviation in the Y coords in mm. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stdT,:</em>&nbsp;</td><td>Standard deviation in the Theta coords in degs. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>thresFactor,:</em>&nbsp;</td><td>Factor deciding the threshold for a match. +ve(0-1). Generally must allow at least .1 (10%). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>warn,:</em>&nbsp;</td><td>Flag to warning if loca score is too low.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if successful false if not. </dd></dl>

<p>
Interpolating the pose at any given time. 
</div>
</div><p>
<a class="anchor" name="9eda6f04ec9d1e6ef9c78ab4ead096d9"></a><!-- doxytag: member="ArLocalizationTask::localizeRobotInMapMoved" ref="9eda6f04ec9d1e6ef9c78ab4ead096d9" args="(int numSamples, double distFactor, double angFactor, double thresFactor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::localizeRobotInMapMoved           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numSamples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>distFactor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>angFactor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>thresFactor</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function used to do the localization after motion (normally called automatically by the background task). 
<p>
This is the actual function doing the Monte Carlo Markov Localization during most of the time once the localization is initialized and the robot is moving. This function calls the appropriate functions in the ArRobotPoseSamples to compute the most likely pose given a current robot pose and the sensor reading. 
<p>
Interpolating the pose at any given time. 
</div>
</div><p>
<a class="anchor" name="5f03ae43cbb2d0ca0f0c9d4277858fa1"></a><!-- doxytag: member="ArLocalizationTask::localizeRobotAtHomeBlocking" ref="5f03ae43cbb2d0ca0f0c9d4277858fa1" args="(double distSpread, double angleSpread, double probThreshold)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::localizeRobotAtHomeBlocking           </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>distSpread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>angleSpread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>probThreshold</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Try initial localization at each home point at the map, and set the robot pose to the point with best score, using given parameter values instead of values previously configured. 
<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classArLocalizationTask.html#fe38e3fc30d46cc2ab2c348366ccdf6b" title="Try initial localization at each home point at the map, \ and set the robot pose...">localizeRobotAtHomeBlocking()</a> </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="arnlJustLocalization_8cpp-example.html#a6">arnlJustLocalization.cpp</a>.</dl>
</div>
</div><p>
<a class="anchor" name="84009836cb0a32913eb516fdce18b365"></a><!-- doxytag: member="ArLocalizationTask::localizeRobotAtHomeBlocking" ref="84009836cb0a32913eb516fdce18b365" args="(double spreadX, double spreadY, double angleSpread, double probThreshold)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::localizeRobotAtHomeBlocking           </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>spreadX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>spreadY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>angleSpread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>probThreshold</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
instead of values previously configured 
<p>
Attempt to localize the robot in the most likely home position: first it checks the robot's current pose and then checks all of the home positions in the map. The position with the highest score is then used. Call this function after the localization thread has been initialized but needs to be reset, or an initial localization (i.e. at program start up) is needed. This function blocks while the localization takes place, and returns after it either succeeds (Either localization at a home position succeeds, or all fail.)<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Localization will fail if no sensor data has yet been obtained when this function is called (e.g. if called before or immediately after connecting to the robot and/or laser sensor).</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>distSpread</em>&nbsp;</td><td>Use this distance in mm to spread x and y in search of position instead of configured through ArConfig </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>angleSpread</em>&nbsp;</td><td>Use this number of degrees to spread in search of position instead of configuration's value </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>locScoreThreshold</em>&nbsp;</td><td>Lowest allowed score to consider a localization to have succeeded, overriding configuration's value.</td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classArLocalizationTask.html#fe38e3fc30d46cc2ab2c348366ccdf6b" title="Try initial localization at each home point at the map, \ and set the robot pose...">localizeRobotAtHomeBlocking()</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="fe38e3fc30d46cc2ab2c348366ccdf6b"></a><!-- doxytag: member="ArLocalizationTask::localizeRobotAtHomeBlocking" ref="fe38e3fc30d46cc2ab2c348366ccdf6b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool ArLocalizationTask::localizeRobotAtHomeBlocking           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Try initial localization at each home point at the map, \ and set the robot pose to the point with best score. 
<p>
Attempt to localize the robot in the most likely home position: first it checks the robot's current pose and then checks all of the home positions in the map. The position with the highest score is then used. Call this function after the localization thread has been initialized but needs to be reset, or an initial localization (i.e. at program start up) is needed. This function blocks while the localization takes place, and returns after it either succeeds (Either localization at a home position succeeds, or all fail.)<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Localization will fail if no sensor data has yet been obtained when this function is called (e.g. if called before or immediately after connecting to the robot and/or laser sensor). </dd></dl>

<p>Reimplemented from <a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference//classArBaseLocalizationTask.html#781bf070438671d121b0a560fda9bcb1">ArBaseLocalizationTask</a>.</p>

</div>
</div><p>
<a class="anchor" name="35969f66db214d2fa1f606dbde01a407"></a><!-- doxytag: member="ArLocalizationTask::localizeRobotAtHomeNonBlocking" ref="35969f66db214d2fa1f606dbde01a407" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::localizeRobotAtHomeNonBlocking           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Request that the task later localize the robot at a map home \ position, then return immediately. 
<p>
Initiate background localization of the robot at the first home pose as defined in the Aria Map. Call this function after the localization thread has been initialized, and needs to be reset, or an initial localization (e.g. at program start) needs to be performed. This function moves the robot to the first home point in the map, and requests that the localization thread perform a new localization, then returns immediately The localization thread will then later attept to localize, starting at the home point.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Localization will fail if no sensor data has yet been obtained.</dd></dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>false if there is no map, true in all other cases; use a callback or monitor the localization state to determine whether localization later fails or succeeds. </dd></dl>

<p>
MPL this can't know the score yet... so it just has to set it and continue with life 
</div>
</div><p>
<a class="anchor" name="f886762ca9cbbf527b81d6601e9c2123"></a><!-- doxytag: member="ArLocalizationTask::getRobotHome" ref="f886762ca9cbbf527b81d6601e9c2123" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArPose ArLocalizationTask::getRobotHome           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the pose that robot was localized to. 
<p>
Function to get stored home pose (used internally during reset etc.)<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>"Home" pose determined by <a class="el" href="classArLocalizationTask.html#fe38e3fc30d46cc2ab2c348366ccdf6b" title="Try initial localization at each home point at the map, \ and set the robot pose...">localizeRobotAtHomeBlocking()</a> or <a class="el" href="classArLocalizationTask.html#35969f66db214d2fa1f606dbde01a407" title="Request that the task later localize the robot at a map home \ position, then return...">localizeRobotAtHomeNonBlocking()</a> (or (0,0,0) if these functions have not been called). </dd></dl>

<p>Reimplemented from <a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference//classArBaseLocalizationTask.html#0a7b693900b93525297cb9c33c0785be">ArBaseLocalizationTask</a>.</p>

</div>
</div><p>
<a class="anchor" name="7cee2cf3acdba0e9914a5169dcd1cb57"></a><!-- doxytag: member="ArLocalizationTask::setForceUpdateParams" ref="7cee2cf3acdba0e9914a5169dcd1cb57" args="(int numSamples, double xStd, double yStd, double tStd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::setForceUpdateParams           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numSamples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>xStd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>yStd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>tStd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the force update parameters. 
<p>
Sets new localization parameters used after an pose update is forced by <a class="el" href="classArLocalizationTask.html#e1922fd8a9b0cbc054b632c1489a793f" title="Force an update in thread instead of waiting for distance-angle trigger.">forceUpdatePose()</a>.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classArLocalizationTask.html#e1922fd8a9b0cbc054b632c1489a793f" title="Force an update in thread instead of waiting for distance-angle trigger.">forceUpdatePose()</a></dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>numSamples,:</em>&nbsp;</td><td>no of samples to be used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>xStd,:</em>&nbsp;</td><td>X axis std deviation in mm. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>yStd,:</em>&nbsp;</td><td>Y axis std deviation in mm. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tStd,:</em>&nbsp;</td><td>Theta axis std deviation in degs. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="e1922fd8a9b0cbc054b632c1489a793f"></a><!-- doxytag: member="ArLocalizationTask::forceUpdatePose" ref="e1922fd8a9b0cbc054b632c1489a793f" args="(ArPose forcePose, bool rayTrace=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::forceUpdatePose           </td>
          <td>(</td>
          <td class="paramtype">ArPose&nbsp;</td>
          <td class="paramname"> <em>forcePose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>rayTrace</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Force an update in thread instead of waiting for distance-angle trigger. 
<p>
Forces the thread to go from move localization to set localization with a new pose. Force a change in robot position, and a stationary relocalization at that point (instead of moving localization). This function is neccesary to cleanly resume localization after forcing a change in robot position (or at initial localization if neither <a class="el" href="classArLocalizationTask.html#fe38e3fc30d46cc2ab2c348366ccdf6b" title="Try initial localization at each home point at the map, \ and set the robot pose...">localizeRobotAtHomeBlocking()</a> or <a class="el" href="classArLocalizationTask.html#35969f66db214d2fa1f606dbde01a407" title="Request that the task later localize the robot at a map home \ position, then return...">localizeRobotAtHomeNonBlocking()</a> are used). You can use <a class="el" href="classArLocalizationTask.html#7cee2cf3acdba0e9914a5169dcd1cb57" title="Sets the force update parameters.">setForceUpdateParams()</a> to explictly net new values used for parameters.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classArLocalizationTask.html#fe38e3fc30d46cc2ab2c348366ccdf6b" title="Try initial localization at each home point at the map, \ and set the robot pose...">localizeRobotAtHomeBlocking()</a> <p>
<a class="el" href="classArLocalizationTask.html#35969f66db214d2fa1f606dbde01a407" title="Request that the task later localize the robot at a map home \ position, then return...">localizeRobotAtHomeNonBlocking()</a></dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>forcePose</em>&nbsp;</td><td>New starting pose to be used for next localization </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="7a979b768479d09cba163b5eaa6dd7c0"></a><!-- doxytag: member="ArLocalizationTask::addFailedLocalizationCB" ref="7a979b768479d09cba163b5eaa6dd7c0" args="(ArFunctor1&lt; int &gt; *functor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::addFailedLocalizationCB           </td>
          <td>(</td>
          <td class="paramtype">ArFunctor1&lt; int &gt; *&nbsp;</td>
          <td class="paramname"> <em>functor</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds a callback which will be called when loca fails. 
<p>
After localization has failed these callbacks will be called. This function adds the a pointer to a function to this list.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>functor</em>&nbsp;</td><td>the functor to call. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="5b8d952240e1a9937579a61e675c1701"></a><!-- doxytag: member="ArLocalizationTask::remFailedLocalizationCB" ref="5b8d952240e1a9937579a61e675c1701" args="(ArFunctor1&lt; int &gt; *functor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::remFailedLocalizationCB           </td>
          <td>(</td>
          <td class="paramtype">ArFunctor1&lt; int &gt; *&nbsp;</td>
          <td class="paramname"> <em>functor</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Removes a callback. 
<p>
Removes a FailedLocalizationCB, see addFailedLocalizationCB for details.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>functor,:</em>&nbsp;</td><td>The pointer to the function to be taken off. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="3496da7e592e4aec62b41705a36eeeaf"></a><!-- doxytag: member="ArLocalizationTask::getForceUpdateParams" ref="3496da7e592e4aec62b41705a36eeeaf" args="(ArPose &amp;forcePose, int &amp;numSamples, double &amp;xStd, double &amp;yStd, double &amp;tStd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::getForceUpdateParams           </td>
          <td>(</td>
          <td class="paramtype">ArPose &amp;&nbsp;</td>
          <td class="paramname"> <em>forcePose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&nbsp;</td>
          <td class="paramname"> <em>numSamples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&nbsp;</td>
          <td class="paramname"> <em>xStd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&nbsp;</td>
          <td class="paramname"> <em>yStd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&nbsp;</td>
          <td class="paramname"> <em>tStd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the params to do the localization from the class. 
<p>
Fills the 5 relevant parameters from the force update set. 
</div>
</div><p>
<a class="anchor" name="f792eeae492bded0ebba93fb375972ba"></a><!-- doxytag: member="ArLocalizationTask::getRobotMaxProbPose" ref="f792eeae492bded0ebba93fb375972ba" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArPose ArLocalizationTask::getRobotMaxProbPose           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the current computed best robot pose. 
<p>
Gets the most probable pose of the robot as computed by the last localization.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The best pose among the samples.. </dd></dl>

</div>
</div><p>
<a class="anchor" name="17ff3d74dfa7cd4955c284a954e2ba03"></a><!-- doxytag: member="ArLocalizationTask::getLocalizationScore" ref="17ff3d74dfa7cd4955c284a954e2ba03" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double ArLocalizationTask::getLocalizationScore           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the higher of MCL and Reflector based localization. 
<p>
Returns the best of monte carlo localization and kalman filter based localization using reflectors.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A measure of the goodness of the map seen by the sensor and the robots pose. (0-1) </dd></dl>

<p>Reimplemented from <a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference//classArBaseLocalizationTask.html#2999d0c831905472148db8c62ca33d3a">ArBaseLocalizationTask</a>.</p>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="arnlServer_8cpp-example.html#a24">arnlServer.cpp</a>.</dl>
</div>
</div><p>
<a class="anchor" name="8f5b71d10d7b11ebd5e63197900dfb21"></a><!-- doxytag: member="ArLocalizationTask::getLocalizationThreshold" ref="8f5b71d10d7b11ebd5e63197900dfb21" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double ArLocalizationTask::getLocalizationThreshold           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the localization threshold. 
<p>
Returns the localization threshold.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>threshold. </dd></dl>

<p>Reimplemented from <a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference//classArBaseLocalizationTask.html#00b537f34e83280c9d8b419eaa86f1f1">ArBaseLocalizationTask</a>.</p>

</div>
</div><p>
<a class="anchor" name="148f1bb397893b999c65e073ed5d6545"></a><!-- doxytag: member="ArLocalizationTask::getMCLocalizationScore" ref="148f1bb397893b999c65e073ed5d6545" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double ArLocalizationTask::getMCLocalizationScore           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the localization score based on Monte Carlo only. 
<p>
Returns the goodness of the last localization result. No of matched laser points in the environment to the total no of laser points.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A measure of the goodness of the map seen by the sensor and the robots pose. (0-1) </dd></dl>

</div>
</div><p>
<a class="anchor" name="596c49de848f2c05afd46255b1435494"></a><!-- doxytag: member="ArLocalizationTask::getRefLocalizationScore" ref="596c49de848f2c05afd46255b1435494" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double ArLocalizationTask::getRefLocalizationScore           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the localization score based on reflectors only. 
<p>
Returns the localization score based on reflectors alone.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A measure of the goodness of the map seen by the sensor and the robots pose. (0-1) </dd></dl>

</div>
</div><p>
<a class="anchor" name="4233c8676f07bec46818968f94d1368e"></a><!-- doxytag: member="ArLocalizationTask::getCurrentSamplePoses" ref="4233c8676f07bec46818968f94d1368e" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; ArPose &gt; ArLocalizationTask::getCurrentSamplePoses           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the pose samples for client. 
<p>
Gets the Robot pose samples before sensor correction.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>list of poses. </dd></dl>

<p>Reimplemented from <a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference//classArBaseLocalizationTask.html#e0c16de637ec53afb493d57f4c20533a">ArBaseLocalizationTask</a>.</p>

</div>
</div><p>
<a class="anchor" name="0fce008f71a6a21c1c12f42725a2a5e4"></a><!-- doxytag: member="ArLocalizationTask::getQParams" ref="0fce008f71a6a21c1c12f42725a2a5e4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArMatrix ArLocalizationTask::getQParams           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the bad reflector factor. 
<p>
Gets the variance values that decay with time. 
</div>
</div><p>
<a class="anchor" name="3972cd1aa1ba98d5d586e59604af24c9"></a><!-- doxytag: member="ArLocalizationTask::readMapFromFile" ref="3972cd1aa1ba98d5d586e59604af24c9" args="(char *mapName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArMapInterface * ArLocalizationTask::readMapFromFile           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>mapName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read the Map data from a map file. 
<p>
Read the map given the file name.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mapName,:</em>&nbsp;</td><td>Name of the map file.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 if successful else 0. </dd></dl>

</div>
</div><p>
<a class="anchor" name="735b8c1fc2ad55e6974bdc490f32ba2e"></a><!-- doxytag: member="ArLocalizationTask::readAriaMap" ref="735b8c1fc2ad55e6974bdc490f32ba2e" args="(ArMapInterface *ariaMap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArMapInterface * ArLocalizationTask::readAriaMap           </td>
          <td>(</td>
          <td class="paramtype">ArMapInterface *&nbsp;</td>
          <td class="paramname"> <em>ariaMap</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read the Map data from ArMap. 
<p>
Read the map given the Aria map.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ariaMap,:</em>&nbsp;</td><td>The Aria map class ptr.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 if successful else 0. </dd></dl>

</div>
</div><p>
<a class="anchor" name="cdf46fbbe9abdad5ccb41a9ba4818932"></a><!-- doxytag: member="ArLocalizationTask::loadParamFile" ref="cdf46fbbe9abdad5ccb41a9ba4818932" args="(const char *file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::loadParamFile           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Load parameters from the given filename into ArConfig. 
<p>
This is a convenience function that loads a new file into the global ArConfig object (ARNL and all other components using ArConfig will then use the new values).<p>
It Aria::getConfig()-&gt;parseFile(file, false, true), and also stores the ArConfig object returned by Aria::getConfig() as a (possibly new) ArConfig object for <a class="el" href="classArLocalizationTask.html" title="Task that performs continuous localization of the robot with a laser range sensor...">ArLocalizationTask</a> to use in the future. <dl class="return" compact><dt><b>Returns:</b></dt><dd>true if the file could be loaded, false otherwise </dd></dl>

</div>
</div><p>
<a class="anchor" name="390eb249578faa44f1366d103ee36dba"></a><!-- doxytag: member="ArLocalizationTask::saveParams" ref="390eb249578faa44f1366d103ee36dba" args="(char *filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::saveParams           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Saves all parameter values from ArConfig to the given file. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if the save works, false if error, or <a class="el" href="classArLocalizationTask.html" title="Task that performs continuous localization of the robot with a laser range sensor...">ArLocalizationTask</a> has no ArConfig object (that object is set in the constructor or <a class="el" href="classArLocalizationTask.html#cdf46fbbe9abdad5ccb41a9ba4818932" title="Load parameters from the given filename into ArConfig.">loadParamFile()</a>). </dd></dl>

</div>
</div><p>
<a class="anchor" name="042dbaa5968dcbef85a39097e7118f05"></a><!-- doxytag: member="ArLocalizationTask::fillHistogram" ref="042dbaa5968dcbef85a39097e7118f05" args="(double *&amp;hist, double *&amp;cumSum, int &amp;numSamples)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::fillHistogram           </td>
          <td>(</td>
          <td class="paramtype">double *&amp;&nbsp;</td>
          <td class="paramname"> <em>hist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&amp;&nbsp;</td>
          <td class="paramname"> <em>cumSum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&nbsp;</td>
          <td class="paramname"> <em>numSamples</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Fill prob distribution histogram for debugging. 
<p>
Fill histogram arrays. For display purposes during debugging.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hist,:</em>&nbsp;</td><td>Histogram array. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cumSum,:</em>&nbsp;</td><td>Cumulative sum array reference. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>numSamples,:</em>&nbsp;</td><td>No of samples.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if successful. </dd></dl>

</div>
</div><p>
<a class="anchor" name="69cf1e10d3ae662c7aa522c04692523e"></a><!-- doxytag: member="ArLocalizationTask::scanToGlobalCoords" ref="69cf1e10d3ae662c7aa522c04692523e" args="(ArPose robPose, std::vector&lt; ArPose &gt; &amp;xyLrf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::scanToGlobalCoords           </td>
          <td>(</td>
          <td class="paramtype">ArPose&nbsp;</td>
          <td class="paramname"> <em>robPose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; ArPose &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>xyLrf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Convert the laser data to x and y coord array. 
<p>
Converts the range points into X and Y coord arrays.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>robPose,:</em>&nbsp;</td><td>Robots pose. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>xLrf,:</em>&nbsp;</td><td>Pointer to the X coords. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>xLrf,:</em>&nbsp;</td><td>Pointer to the Y coords.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 if successful else 0. </dd></dl>

</div>
</div><p>
<a class="anchor" name="1cf4fe008b9144d74b7b7674aa014de3"></a><!-- doxytag: member="ArLocalizationTask::setLocaParams" ref="1cf4fe008b9144d74b7b7674aa014de3" args="(double xStd, double yStd, double tStd, double kMmPerMm, double kDegPerDeg, double kDegPerMm, double sensorBelief)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::setLocaParams           </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>xStd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>yStd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>tStd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>kMmPerMm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>kDegPerDeg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>kDegPerMm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>sensorBelief</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set all the parameters for localization. 
<p>
Sets all error parameters needed to do the MCL localization.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>xStd,:</em>&nbsp;</td><td>Standard deviation in the X coords in mm. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>yStd,:</em>&nbsp;</td><td>Standard deviation in the Y coords in mm. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tStd,:</em>&nbsp;</td><td>Standard deviation in the Theta coords in deg. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>kMmPerMm,:</em>&nbsp;</td><td>Error factor for distance per distance traveled. mm/mm. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>kDegPerDeg,:</em>&nbsp;</td><td>Error factor for angle drift per heading change. deg/deg. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>kDegPerMm,:</em>&nbsp;</td><td>Error factor for angle drift per dist travelled. deg/mm. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sensorBelief,:</em>&nbsp;</td><td>Sensor Belief. (0-1)</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 if successful else 0. </dd></dl>

</div>
</div><p>
<a class="anchor" name="bb81de74b4dcbc537762c0546fcdb0bd"></a><!-- doxytag: member="ArLocalizationTask::computeLastLocaMeanVar" ref="bb81de74b4dcbc537762c0546fcdb0bd" args="(ArPose &amp;mean, ArMatrix &amp;Var)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::computeLastLocaMeanVar           </td>
          <td>(</td>
          <td class="paramtype">ArPose &amp;&nbsp;</td>
          <td class="paramname"> <em>mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMatrix &amp;&nbsp;</td>
          <td class="paramname"> <em>Var</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The compute the mean and var as soon as MCL finds a pose. 
<p>
Compute the mean and variance from the MCL samples.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mean,:</em>&nbsp;</td><td>The computed mean pose. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Var,:</em>&nbsp;</td><td>The computed variance matrix.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if successful else false. </dd></dl>

</div>
</div><p>
<a class="anchor" name="aea773697292601401f9c334c07b401e"></a><!-- doxytag: member="ArLocalizationTask::findMCLMeanVar" ref="aea773697292601401f9c334c07b401e" args="(ArPose &amp;mean, ArMatrix &amp;Var)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::findMCLMeanVar           </td>
          <td>(</td>
          <td class="paramtype">ArPose &amp;&nbsp;</td>
          <td class="paramname"> <em>mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMatrix &amp;&nbsp;</td>
          <td class="paramname"> <em>Var</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Finds the mean and var of MCL after moving to present pose. 
<p>
Finds the MCL mean and variance at the current pose.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mean,:</em>&nbsp;</td><td>The computed mean pose. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Var,:</em>&nbsp;</td><td>The computed variance matrix.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if successful else false. </dd></dl>

</div>
</div><p>
<a class="anchor" name="dcdb0031f524e302d9a4cbdd7fa1c77f"></a><!-- doxytag: member="ArLocalizationTask::findLocalizationMeanVar" ref="dcdb0031f524e302d9a4cbdd7fa1c77f" args="(ArPose &amp;mean, ArMatrix &amp;Var)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::findLocalizationMeanVar           </td>
          <td>(</td>
          <td class="paramtype">ArPose &amp;&nbsp;</td>
          <td class="paramname"> <em>mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMatrix &amp;&nbsp;</td>
          <td class="paramname"> <em>Var</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The actual mean var calculator for the virtual in the base class. 
<p>
Virtual function which will pull the current state of the loca.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mean,:</em>&nbsp;</td><td>The computed mean pose. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Var,:</em>&nbsp;</td><td>The computed variance matrix.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if successful else false. </dd></dl>

<p>Reimplemented from <a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference//classArBaseLocalizationTask.html#cf6a9362147d7e3e3b5cc7af1e0038c3">ArBaseLocalizationTask</a>.</p>

</div>
</div><p>
<a class="anchor" name="fcaa0fed44123fe941d5c9fdd8333226"></a><!-- doxytag: member="ArLocalizationTask::setRobotPose" ref="fcaa0fed44123fe941d5c9fdd8333226" args="(ArPose pose, ArPose spread=ArPose(0, 0, 0), int nSam=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::setRobotPose           </td>
          <td>(</td>
          <td class="paramtype">ArPose&nbsp;</td>
          <td class="paramname"> <em>pose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArPose&nbsp;</td>
          <td class="paramname"> <em>spread</em> = <code>ArPose(0,&nbsp;0,&nbsp;0)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nSam</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Used to set the robot pose usually at the start of localization. 
<p>
This one with a spread around the set pose.<p>
Sets robot pose for localization init.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classArLocalizationTask.html#e1922fd8a9b0cbc054b632c1489a793f" title="Force an update in thread instead of waiting for distance-angle trigger.">forceUpdatePose()</a></dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pose,:</em>&nbsp;</td><td>The pose to initialize to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>spread,:</em>&nbsp;</td><td>The spread about the mean pose. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nSum,:</em>&nbsp;</td><td>No of samples. </td></tr>
  </table>
</dl>

<p>Reimplemented from <a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference//classArBaseLocalizationTask.html#739c780c65e7386a022ee438bdb557cc">ArBaseLocalizationTask</a>.</p>

</div>
</div><p>
<a class="anchor" name="106eada91144e31e6c9999f2130bb98f"></a><!-- doxytag: member="ArLocalizationTask::drawRangePoints" ref="106eada91144e31e6c9999f2130bb98f" args="(ArServerClient *client, ArNetPacket *packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::drawRangePoints           </td>
          <td>(</td>
          <td class="paramtype">ArServerClient *&nbsp;</td>
          <td class="paramname"> <em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArNetPacket *&nbsp;</td>
          <td class="paramname"> <em>packet</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Draws range data used for localization. 
<p>
ArNetworking callback providing sample points to draw in a GUI for troubleshooting or debugging. <dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="arnlServer_8cpp-example.html#a19">arnlServer.cpp</a>.</dl>
</div>
</div><p>
<a class="anchor" name="5f3b4db124a95cadde4c3847c83dfb76"></a><!-- doxytag: member="ArLocalizationTask::drawReflectorRays" ref="5f3b4db124a95cadde4c3847c83dfb76" args="(ArServerClient *client, ArNetPacket *packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::drawReflectorRays           </td>
          <td>(</td>
          <td class="paramtype">ArServerClient *&nbsp;</td>
          <td class="paramname"> <em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArNetPacket *&nbsp;</td>
          <td class="paramname"> <em>packet</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Draw rays from the robot to the reflector. 
<p>
Draws the rays to the landmarks.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>client,:</em>&nbsp;</td><td>Stuff handed down from client prgram. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>packet,:</em>&nbsp;</td><td>Stuff handed down from client program. </td></tr>
  </table>
</dl>

<p>
MPL changes so kathleen always gets packet 
</div>
</div><p>
<a class="anchor" name="86cf6d49537ad1c2361023731a601915"></a><!-- doxytag: member="ArLocalizationTask::drawSamplePoses" ref="86cf6d49537ad1c2361023731a601915" args="(ArServerClient *client, ArNetPacket *packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::drawSamplePoses           </td>
          <td>(</td>
          <td class="paramtype">ArServerClient *&nbsp;</td>
          <td class="paramname"> <em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArNetPacket *&nbsp;</td>
          <td class="paramname"> <em>packet</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Draws debugging objects if filled. 
<p>

<p>
MPL changes so kathleen always gets packet 
</div>
</div><p>
<a class="anchor" name="c0a1783f962d3f6749e9eb008248f605"></a><!-- doxytag: member="ArLocalizationTask::drawSampleBounds" ref="c0a1783f962d3f6749e9eb008248f605" args="(ArServerClient *client, ArNetPacket *packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::drawSampleBounds           </td>
          <td>(</td>
          <td class="paramtype">ArServerClient *&nbsp;</td>
          <td class="paramname"> <em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArNetPacket *&nbsp;</td>
          <td class="paramname"> <em>packet</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Draws the sample bounds. 
<p>
Draws the boundary around the samples.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>client,:</em>&nbsp;</td><td>Stuff handed down from client program. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>packet,:</em>&nbsp;</td><td>Stuff handed down from client program. </td></tr>
  </table>
</dl>

<p>
MPL changes so kathleen always gets packet 
</div>
</div><p>
<a class="anchor" name="d1d5dfeaf12d5fcccbf71cb2c862e020"></a><!-- doxytag: member="ArLocalizationTask::drawKalmanVariance" ref="d1d5dfeaf12d5fcccbf71cb2c862e020" args="(ArServerClient *client, ArNetPacket *packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::drawKalmanVariance           </td>
          <td>(</td>
          <td class="paramtype">ArServerClient *&nbsp;</td>
          <td class="paramname"> <em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArNetPacket *&nbsp;</td>
          <td class="paramname"> <em>packet</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Draws the sample bounds. 
<p>
Draws the Reflector Kalman mean pose and var position rectangle with angle cone. 
</div>
</div><p>
<a class="anchor" name="3128b8138e5a4526d2711fa005b5baed"></a><!-- doxytag: member="ArLocalizationTask::drawMCLVariance" ref="3128b8138e5a4526d2711fa005b5baed" args="(ArServerClient *client, ArNetPacket *packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::drawMCLVariance           </td>
          <td>(</td>
          <td class="paramtype">ArServerClient *&nbsp;</td>
          <td class="paramname"> <em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArNetPacket *&nbsp;</td>
          <td class="paramname"> <em>packet</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Draws the sample bounds. 
<p>
Draws the MCL's mean pose and var position rectangle with angle cone. 
</div>
</div><p>
<a class="anchor" name="04ddffc1a65b12224a7520401d57cfb1"></a><!-- doxytag: member="ArLocalizationTask::getPoseInterpPosition" ref="04ddffc1a65b12224a7520401d57cfb1" args="(ArTime timeStamp, ArPose *position)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int ArLocalizationTask::getPoseInterpPosition           </td>
          <td>(</td>
          <td class="paramtype">ArTime&nbsp;</td>
          <td class="paramname"> <em>timeStamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArPose *&nbsp;</td>
          <td class="paramname"> <em>position</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the position the robot was at at the given timestamp. 
<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd>ArInterpolation::getPose </dd></dl>

<p>Reimplemented from <a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference//classArBaseLocalizationTask.html#b41afa422961764a5ed790d5897e4124">ArBaseLocalizationTask</a>.</p>

</div>
</div><p>
<a class="anchor" name="c23da47e3d0b8f5d8b719d32c6eac381"></a><!-- doxytag: member="ArLocalizationTask::basicInitialization" ref="c23da47e3d0b8f5d8b719d32c6eac381" args="(ArRobot *robot, ArRangeDevice *laser)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::basicInitialization           </td>
          <td>(</td>
          <td class="paramtype">ArRobot *&nbsp;</td>
          <td class="paramname"> <em>robot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArRangeDevice *&nbsp;</td>
          <td class="paramname"> <em>laser</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Basic initializer (internal use only). 
<p>
Basic initializer to avoid duplication in the two constructors. 
</div>
</div><p>
<a class="anchor" name="98c9d691bdf1e69a59bee5a41cad2288"></a><!-- doxytag: member="ArLocalizationTask::runThread" ref="98c9d691bdf1e69a59bee5a41cad2288" args="(void *ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * ArLocalizationTask::runThread           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>ptr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function used to run the task as a thread. 
<p>
The main loop for the background localization thread. 
</div>
</div><p>
<a class="anchor" name="0c45146e44c9514ca631d74cf5d9e3d5"></a><!-- doxytag: member="ArLocalizationTask::correctPoseFromSensor" ref="0c45146e44c9514ca631d74cf5d9e3d5" args="(double increment, bool rayTrace, bool ignoreBadProb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::correctPoseFromSensor           </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>increment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>rayTrace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>ignoreBadProb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function which does the main eqn for the actual MCL localization. 
<p>
Correct the sample poses by using the data from the sensor. This is the second of the two important steps in Localization. Correlation window is only 1 pixel wide per ray.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>increment,:</em>&nbsp;</td><td>Angle increment by which the laser readings differ. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rayTrace,:</em>&nbsp;</td><td>Flag which will enable ray tracing. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ignoreBadProb,:</em>&nbsp;</td><td>Will return tru even when maxProb is low.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if successful else 0. </dd></dl>

</div>
</div><p>
<a class="anchor" name="73b1b865d841bec26975d3a3e360d781"></a><!-- doxytag: member="ArLocalizationTask::initializeSamples" ref="73b1b865d841bec26975d3a3e360d781" args="(int numSamples)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::initializeSamples           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ns</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize the MCL samples. 
<p>
Initialize the robot samples for MCL to start.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ns,:</em>&nbsp;</td><td>Number of samples.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 if successful else 0. </dd></dl>

</div>
</div><p>
<a class="anchor" name="bf3a69d36cba5fcdac74bb0c2c3bef2a"></a><!-- doxytag: member="ArLocalizationTask::scanLaserIntoArray" ref="bf3a69d36cba5fcdac74bb0c2c3bef2a" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::scanLaserIntoArray           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the laser buffer into data structure. 
<p>
Moves the laser range buffer into the robot and laser class.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 if successful else 0. </dd></dl>

</div>
</div><p>
<a class="anchor" name="b2a2ac2ccd851d0713e2ed207448e925"></a><!-- doxytag: member="ArLocalizationTask::initializeOccGrid" ref="b2a2ac2ccd851d0713e2ed207448e925" args="(double res, ArMapInterface *ariaMap, bool lockMap=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArOccGrid * ArLocalizationTask::initializeOccGrid           </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMapInterface *&nbsp;</td>
          <td class="paramname"> <em>ariaMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>lockMap</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set resolution of the occupancy grid and fill it. 
<p>
Fills the occupancy grid with data from the map.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>res,:</em>&nbsp;</td><td>The new resolution in mm. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ariaMap,:</em>&nbsp;</td><td>Aria map ptr. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lockMap,:</em>&nbsp;</td><td>Flag to enable locking of the map.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 if successful else 0. </dd></dl>

</div>
</div><p>
<a class="anchor" name="78eb084d33e2b5396546e34d51f286f5"></a><!-- doxytag: member="ArLocalizationTask::killBadSamples" ref="78eb084d33e2b5396546e34d51f286f5" args="(double obsThreshold)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::killBadSamples           </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>occThreshold</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Legalize samples to eliminate illegal location such as on obstacles. 
<p>
Kill all bad samples by setting their probs to zero.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>occThreshold,:</em>&nbsp;</td><td>Value at which the occupancy grid is considered an obstacle. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="82bd7ad49ec8ae3da3cf54acd92b2cda"></a><!-- doxytag: member="ArLocalizationTask::saveSamples" ref="82bd7ad49ec8ae3da3cf54acd92b2cda" args="(bool saveFile=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::saveSamples           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>saveFile</em> = <code>false</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Save samples for backup. 
<p>
Backup samples before they are resampled. Resampling usually flattens the probability distribution to a single location.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>saveFile,:</em>&nbsp;</td><td>Flag to make it save it as a file for debugging. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="f11585e1c129de81724cb84b7786f893"></a><!-- doxytag: member="ArLocalizationTask::findBestPoses" ref="f11585e1c129de81724cb84b7786f893" args="(ArRobotPoseSamples *mrsp, double factor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ArLocalizationTask::findBestPoses           </td>
          <td>(</td>
          <td class="paramtype">ArRobotPoseSamples *&nbsp;</td>
          <td class="paramname"> <em>mrsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>factor</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Find the best poses by looking at prob distribution peaks. 
<p>
Finds the most probable poses from the results of the MCL by looking at the samples and their characteristics. Uses the fact that after resampling, the probabilties must be non zero for only one or a few poses.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mrsp,:</em>&nbsp;</td><td>Pointer to the robot samples. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>factor,:</em>&nbsp;</td><td>Scale factor from the peak prob to consider.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>no of peaks found if successful else 0. </dd></dl>

</div>
</div><p>
<a class="anchor" name="e676af484acbb431c7255a9a6bfe90c1"></a><!-- doxytag: member="ArLocalizationTask::findSamplesStatistics" ref="e676af484acbb431c7255a9a6bfe90c1" args="(double &amp;xMean, double &amp;yMean, double &amp;thMean, double &amp;xStd, double &amp;yStd, double &amp;tStd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::findSamplesStatistics           </td>
          <td>(</td>
          <td class="paramtype">double &amp;&nbsp;</td>
          <td class="paramname"> <em>xMean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&nbsp;</td>
          <td class="paramname"> <em>yMean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&nbsp;</td>
          <td class="paramname"> <em>thMean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&nbsp;</td>
          <td class="paramname"> <em>xStd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&nbsp;</td>
          <td class="paramname"> <em>yStd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&nbsp;</td>
          <td class="paramname"> <em>tStd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Compute statistics of samples after localization. 
<p>
Compute the statistics from the samples.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>xMean,:</em>&nbsp;</td><td>Reference to the mean X of the sample poses. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>yMean,:</em>&nbsp;</td><td>Reference to the mean Y of the sample poses. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>thMean,:</em>&nbsp;</td><td>Reference to the mean Theta of the sample poses. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>xStd,:</em>&nbsp;</td><td>Reference to the computed std deviation on X. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>yStd,:</em>&nbsp;</td><td>Reference to the computed std deviation on Y. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tStd,:</em>&nbsp;</td><td>Reference to the computed std deviation on Theta.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if successful else false. </dd></dl>

</div>
</div><p>
<a class="anchor" name="61478df56612d2a576e3b9feb5c6a4a3"></a><!-- doxytag: member="ArLocalizationTask::findKalmanMeanVar" ref="61478df56612d2a576e3b9feb5c6a4a3" args="(ArPose &amp;mean, ArMatrix &amp;var)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::findKalmanMeanVar           </td>
          <td>(</td>
          <td class="paramtype">ArPose &amp;&nbsp;</td>
          <td class="paramname"> <em>mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMatrix &amp;&nbsp;</td>
          <td class="paramname"> <em>Var</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the state. 
<p>
Return the current mean pose of the kalman and its variance.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mean,:</em>&nbsp;</td><td>The computed mean pose. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Var,:</em>&nbsp;</td><td>The computed variance matrix.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if successful else false. </dd></dl>

</div>
</div><p>
<a class="anchor" name="eba2b25e898f9d8a9fbdb9473972c664"></a><!-- doxytag: member="ArLocalizationTask::fuseTwoDistributions" ref="eba2b25e898f9d8a9fbdb9473972c664" args="(ArPose m1, ArMatrix V1, ArPose m2, ArMatrix V2, ArPose &amp;mean, ArMatrix &amp;Var)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::fuseTwoDistributions           </td>
          <td>(</td>
          <td class="paramtype">ArPose&nbsp;</td>
          <td class="paramname"> <em>m1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMatrix&nbsp;</td>
          <td class="paramname"> <em>V1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArPose&nbsp;</td>
          <td class="paramname"> <em>m2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMatrix&nbsp;</td>
          <td class="paramname"> <em>V2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArPose &amp;&nbsp;</td>
          <td class="paramname"> <em>mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMatrix &amp;&nbsp;</td>
          <td class="paramname"> <em>Var</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Fuses the stats of two uniform dists into one. 
<p>
Combines two gaussian distributions into one.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>m1,:</em>&nbsp;</td><td>Mean of first distribution. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>V1,:</em>&nbsp;</td><td>Variance matrix of the first distribution. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>m2,:</em>&nbsp;</td><td>Mean of second distribution. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>V2,:</em>&nbsp;</td><td>Variance matrix of the second distribution. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mean,:</em>&nbsp;</td><td>Mean of the combine. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Var,:</em>&nbsp;</td><td>Variance matrix of the combine.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if successful else false. </dd></dl>

</div>
</div><p>
<a class="anchor" name="ce35a4526ea03cf2770efc378ca43fd1"></a><!-- doxytag: member="ArLocalizationTask::setMotionErrorParam" ref="ce35a4526ea03cf2770efc378ca43fd1" args="(int index, double value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::setMotionErrorParam           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set motion error params. 
<p>
Sets all error parameters needed to do the MCL localization. [Kr, Kt, Kd] treated as a vector.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index,:</em>&nbsp;</td><td>Index of error param. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value,:</em>&nbsp;</td><td>Value to set it to.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 if successful else 0. </dd></dl>

</div>
</div><p>
<a class="anchor" name="784212dc51495405d30316380bc236e3"></a><!-- doxytag: member="ArLocalizationTask::getMotionErrorParam" ref="784212dc51495405d30316380bc236e3" args="(int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double ArLocalizationTask::getMotionErrorParam           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get motion error params. 
<p>
Gets all error parameters needed to do the MCL localization. [Kr, Kt, Kd] treated as a vector.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index,:</em>&nbsp;</td><td>Index of error param.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>value of the error param. </dd></dl>

</div>
</div><p>
<a class="anchor" name="4f691ab0dcc13967d10f2ffcf91cc01f"></a><!-- doxytag: member="ArLocalizationTask::robotCallBack" ref="4f691ab0dcc13967d10f2ffcf91cc01f" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::robotCallBack           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The sensor interpretation callback. Called every 100msec. 
<p>
Updates the true current robot pose. Called every 100msec from ArRobot. 
</div>
</div><p>
<a class="anchor" name="2f261729e5817878e072cc16a3ad279a"></a><!-- doxytag: member="ArLocalizationTask::configureLaser" ref="2f261729e5817878e072cc16a3ad279a" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::configureLaser           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Needed if the laser does not connect first. 
<p>
A function to setup the laser if it wasnt connected first time around.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if successful else false. </dd></dl>

</div>
</div><p>
<a class="anchor" name="cf3808b321533339e09564f3b4376307"></a><!-- doxytag: member="ArLocalizationTask::reconfigureLocalization" ref="cf3808b321533339e09564f3b4376307" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::reconfigureLocalization           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Needed if the params are changed or loaded again. 
<p>
A function to setup the laser if it wasnt connected first time around.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if successful else false. </dd></dl>

</div>
</div><p>
<a class="anchor" name="f4bbb822db6052303f695f1adc55af81"></a><!-- doxytag: member="ArLocalizationTask::failedLocalization" ref="f4bbb822db6052303f695f1adc55af81" args="(int times)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::failedLocalization           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>times</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Actual thing that gets called when localization failed. 
<p>
Things to do when localization fails. 
</div>
</div><p>
<a class="anchor" name="f57be98347cf8e550fc0161be3205355"></a><!-- doxytag: member="ArLocalizationTask::dynamicallyAdjustNumSamples" ref="f57be98347cf8e550fc0161be3205355" args="(double dr, double dt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ArLocalizationTask::dynamicallyAdjustNumSamples           </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>dr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>dt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Change the sample size to reflect localization score. 
<p>
Dynamically reduce the number of samples when the localization score is good and increase it when the score is lower.<p>
Mostly for internal use only.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dr,:</em>&nbsp;</td><td>Change in distance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dt,:</em>&nbsp;</td><td>Change in angle.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>: No of samples. </dd></dl>

</div>
</div><p>
<a class="anchor" name="a0359a1cec3157c80733bc4ef47606da"></a><!-- doxytag: member="ArLocalizationTask::mapChanged" ref="a0359a1cec3157c80733bc4ef47606da" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::mapChanged           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function for the things to do if map changes. 
<p>
Things to do if map changes. 
</div>
</div><p>
<a class="anchor" name="e56deb15a5971c6b9750cab28149ab22"></a><!-- doxytag: member="ArLocalizationTask::findPoseFromLandmarks" ref="e56deb15a5971c6b9750cab28149ab22" args="(const std::vector&lt; ArPose &gt; &amp;global, const std::vector&lt; ArPose &gt; &amp;local, ArPose &amp;rPose, ArMatrix &amp;Var)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::findPoseFromLandmarks           </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; ArPose &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; ArPose &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArPose &amp;&nbsp;</td>
          <td class="paramname"> <em>rPose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMatrix &amp;&nbsp;</td>
          <td class="paramname"> <em>Var</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Solve the triangulation eqn. 
<p>
Solve the pose equation from the landmark triangulation. Unlike the earlier method, this uses no matrix inversion and hence is a lot more stable and accurate.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>global</em>&nbsp;</td><td>The global coords of the landmarks. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>local</em>&nbsp;</td><td>The local coords of the landmarks.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>The</em>&nbsp;</td><td>best pose which minimizes the error the most. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="72e23dbf44d25980dca0d8bf8a0df698"></a><!-- doxytag: member="ArLocalizationTask::getReflectionCoords" ref="72e23dbf44d25980dca0d8bf8a0df698" args="(ArPose &amp;poseTaken, ArPose &amp;rPose, std::vector&lt; ArPose &gt; &amp;gList, std::vector&lt; ArPose &gt; &amp;lList)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ArLocalizationTask::getReflectionCoords           </td>
          <td>(</td>
          <td class="paramtype">ArPose &amp;&nbsp;</td>
          <td class="paramname"> <em>poseTaken</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArPose &amp;&nbsp;</td>
          <td class="paramname"> <em>rPose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; ArPose &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>gList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; ArPose &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>lList</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Find the reflectors in local and global coords. 
<p>
Function to get all the reflections in global and local coords at the current robot pose.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>poseTaken,:</em>&nbsp;</td><td>Pose at which laser taken. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rPose,:</em>&nbsp;</td><td>Pose of the robot now. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>gList,:</em>&nbsp;</td><td>Reference to the list of reflections seen, in global coords. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lList,:</em>&nbsp;</td><td>Reference to the list of reflections seen, in local coords.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>No of reflectors. </dd></dl>

</div>
</div><p>
<a class="anchor" name="044830a523883fc7de94d07e2e487d05"></a><!-- doxytag: member="ArLocalizationTask::getReflectorCenterCoords" ref="044830a523883fc7de94d07e2e487d05" args="(ArPose &amp;poseTaken, ArPose &amp;rPose, std::vector&lt; ArPose &gt; &amp;gList, std::vector&lt; ArPose &gt; &amp;lList)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ArLocalizationTask::getReflectorCenterCoords           </td>
          <td>(</td>
          <td class="paramtype">ArPose &amp;&nbsp;</td>
          <td class="paramname"> <em>poseTaken</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArPose &amp;&nbsp;</td>
          <td class="paramname"> <em>rPose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; ArPose &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>gList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; ArPose &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>lList</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Find the reflector centers in local and global coords. 
<p>
Function to get the reflectors centers in global and local coords if any.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>poseTaken,:</em>&nbsp;</td><td>Pose at which laser taken. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rPose,:</em>&nbsp;</td><td>Pose of the robot now. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>gList,:</em>&nbsp;</td><td>Reference to the list of reflectors seen, in global coords. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lList,:</em>&nbsp;</td><td>Reference to the list of reflectors seen, in local coords.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>no of reflectors. </dd></dl>

</div>
</div><p>
<a class="anchor" name="60d687e78e28459978b6e705ff684b1c"></a><!-- doxytag: member="ArLocalizationTask::fuseSensorWithOdometry" ref="60d687e78e28459978b6e705ff684b1c" args="(bool failedLocalization)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::fuseSensorWithOdometry           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>failedLocalizationFlag</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Fuse all the sensor information. 
<p>
Fuse the odometry into the current observations about the reflectors. using kalman filtering.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>failedLocalizationFlag,:</em>&nbsp;</td><td>Tells whether MCL localization failed.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>False only if it is not initialized or if timing messed up. </dd></dl>

<p>
Interpolating the light pose at any given time. 
</div>
</div><p>
<a class="anchor" name="4ccfea9321745055cab7b5f04aa57597"></a><!-- doxytag: member="ArLocalizationTask::setFlagsAndCallbacksOnFail" ref="4ccfea9321745055cab7b5f04aa57597" args="(int ntimes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::setFlagsAndCallbacksOnFail           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ntimes</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the flags and call the right callbacks when loca fails ntimes. 
<p>
One stop for all failed localization in runThread. 
</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Apr 9 12:21:31 2009 for ARNL by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
